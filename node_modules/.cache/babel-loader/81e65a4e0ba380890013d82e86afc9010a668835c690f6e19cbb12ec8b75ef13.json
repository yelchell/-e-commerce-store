{"ast":null,"code":"import { createAnatomy } from '@zag-js/anatomy';\nimport { createScope, dataAttr, isSelfTarget, contains, visuallyHiddenStyle, raf, getEventTarget } from '@zag-js/dom-query';\nimport { formatBytes } from '@zag-js/i18n-utils';\nimport { createProps } from '@zag-js/types';\nimport { getAcceptAttrString, isFileEqual, isValidFileType, isValidFileSize } from '@zag-js/file-utils';\nimport { createMachine, ref } from '@zag-js/core';\nimport { createSplitProps, compact } from '@zag-js/utils';\n\n// src/file-upload.anatomy.ts\nvar anatomy = createAnatomy(\"file-upload\").parts(\"root\", \"dropzone\", \"item\", \"itemDeleteTrigger\", \"itemGroup\", \"itemName\", \"itemPreview\", \"itemPreviewImage\", \"itemSizeText\", \"label\", \"trigger\", \"clearTrigger\");\nvar parts = anatomy.build();\nvar dom = createScope({\n  getRootId: ctx => ctx.ids?.root ?? `file:${ctx.id}`,\n  getDropzoneId: ctx => ctx.ids?.dropzone ?? `file:${ctx.id}:dropzone`,\n  getHiddenInputId: ctx => ctx.ids?.hiddenInput ?? `file:${ctx.id}:input`,\n  getTriggerId: ctx => ctx.ids?.trigger ?? `file:${ctx.id}:trigger`,\n  getLabelId: ctx => ctx.ids?.label ?? `file:${ctx.id}:label`,\n  getItemId: (ctx, id) => ctx.ids?.item?.(id) ?? `file:${ctx.id}:item:${id}`,\n  getItemNameId: (ctx, id) => ctx.ids?.itemName?.(id) ?? `file:${ctx.id}:item-name:${id}`,\n  getItemSizeTextId: (ctx, id) => ctx.ids?.itemSizeText?.(id) ?? `file:${ctx.id}:item-size:${id}`,\n  getItemPreviewId: (ctx, id) => ctx.ids?.itemPreview?.(id) ?? `file:${ctx.id}:item-preview:${id}`,\n  getHiddenInputEl: ctx => dom.getById(ctx, dom.getHiddenInputId(ctx)),\n  getDropzoneEl: ctx => dom.getById(ctx, dom.getDropzoneId(ctx))\n});\nfunction isEventWithFiles(event) {\n  const target = getEventTarget(event);\n  if (!event.dataTransfer) return !!target && \"files\" in target;\n  return event.dataTransfer.types.some(type => {\n    return type === \"Files\" || type === \"application/x-moz-file\";\n  });\n}\nfunction isFilesWithinRange(ctx, incomingCount) {\n  if (!ctx.multiple && incomingCount > 1) return false;\n  if (!ctx.multiple && incomingCount + ctx.acceptedFiles.length === 2) return true;\n  if (incomingCount + ctx.acceptedFiles.length > ctx.maxFiles) return false;\n  return true;\n}\nfunction getFilesFromEvent(ctx, files) {\n  const acceptedFiles = [];\n  const rejectedFiles = [];\n  files.forEach(file => {\n    const [accepted, acceptError] = isValidFileType(file, ctx.acceptAttr);\n    const [sizeMatch, sizeError] = isValidFileSize(file, ctx.minFileSize, ctx.maxFileSize);\n    const validateErrors = ctx.validate?.(file);\n    const valid = validateErrors ? validateErrors.length === 0 : true;\n    if (accepted && sizeMatch && valid) {\n      acceptedFiles.push(file);\n    } else {\n      const errors = [acceptError, sizeError];\n      if (!valid) errors.push(...(validateErrors ?? []));\n      rejectedFiles.push({\n        file,\n        errors: errors.filter(Boolean)\n      });\n    }\n  });\n  if (!isFilesWithinRange(ctx, acceptedFiles.length)) {\n    acceptedFiles.forEach(file => {\n      rejectedFiles.push({\n        file,\n        errors: [\"TOO_MANY_FILES\"]\n      });\n    });\n    acceptedFiles.splice(0);\n  }\n  return {\n    acceptedFiles,\n    rejectedFiles\n  };\n}\n\n// src/file-upload.connect.ts\nfunction connect(state, send, normalize) {\n  const disabled = state.context.disabled;\n  const allowDrop = state.context.allowDrop;\n  const translations = state.context.translations;\n  const dragging = state.matches(\"dragging\");\n  const focused = state.matches(\"focused\") && !disabled;\n  return {\n    dragging,\n    focused,\n    openFilePicker() {\n      send(\"OPEN\");\n    },\n    deleteFile(file) {\n      send({\n        type: \"FILE.DELETE\",\n        file\n      });\n    },\n    acceptedFiles: state.context.acceptedFiles,\n    rejectedFiles: state.context.rejectedFiles,\n    setFiles(files) {\n      const count = files.length;\n      send({\n        type: \"FILES.SET\",\n        files,\n        count\n      });\n    },\n    clearRejectedFiles() {\n      send({\n        type: \"REJECTED_FILES.CLEAR\"\n      });\n    },\n    clearFiles() {\n      send({\n        type: \"FILES.CLEAR\"\n      });\n    },\n    getFileSize(file) {\n      return formatBytes(file.size, state.context.locale);\n    },\n    createFileUrl(file, cb) {\n      const win = dom.getWin(state.context);\n      const url = win.URL.createObjectURL(file);\n      cb(url);\n      return () => win.URL.revokeObjectURL(url);\n    },\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-dragging\": dataAttr(dragging)\n      });\n    },\n    getDropzoneProps() {\n      return normalize.element({\n        ...parts.dropzone.attrs,\n        dir: state.context.dir,\n        id: dom.getDropzoneId(state.context),\n        tabIndex: disabled ? void 0 : 0,\n        role: \"button\",\n        \"aria-label\": translations.dropzone,\n        \"aria-disabled\": disabled,\n        \"data-invalid\": dataAttr(state.context.invalid),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-dragging\": dataAttr(dragging),\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (!isSelfTarget(event)) return;\n          if (event.key !== \"Enter\" && event.key !== \" \") return;\n          send({\n            type: \"DROPZONE.CLICK\",\n            src: \"keydown\"\n          });\n        },\n        onClick(event) {\n          const isLabel = event.currentTarget.localName === \"label\";\n          if (isLabel) event.preventDefault();\n          send(\"DROPZONE.CLICK\");\n        },\n        onDragOver(event) {\n          if (!allowDrop) return;\n          event.preventDefault();\n          event.stopPropagation();\n          try {\n            event.dataTransfer.dropEffect = \"copy\";\n          } catch {}\n          const hasFiles = isEventWithFiles(event);\n          if (!hasFiles) return;\n          const count = event.dataTransfer.items.length;\n          send({\n            type: \"DROPZONE.DRAG_OVER\",\n            count\n          });\n        },\n        onDragLeave(event) {\n          if (!allowDrop || disabled) return;\n          if (contains(event.currentTarget, event.relatedTarget)) return;\n          send({\n            type: \"DROPZONE.DRAG_LEAVE\"\n          });\n        },\n        onDrop(event) {\n          if (allowDrop) {\n            event.preventDefault();\n            event.stopPropagation();\n          }\n          const hasFiles = isEventWithFiles(event);\n          if (disabled || !hasFiles) return;\n          send({\n            type: \"DROPZONE.DROP\",\n            files: Array.from(event.dataTransfer.files)\n          });\n        },\n        onFocus() {\n          send(\"DROPZONE.FOCUS\");\n        },\n        onBlur() {\n          send(\"DROPZONE.BLUR\");\n        }\n      });\n    },\n    getTriggerProps() {\n      return normalize.button({\n        ...parts.trigger.attrs,\n        dir: state.context.dir,\n        id: dom.getTriggerId(state.context),\n        disabled,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(state.context.invalid),\n        type: \"button\",\n        onClick(event) {\n          if (disabled) return;\n          if (contains(dom.getDropzoneEl(state.context), event.currentTarget)) {\n            event.stopPropagation();\n          }\n          send(\"OPEN\");\n        }\n      });\n    },\n    getHiddenInputProps() {\n      return normalize.input({\n        id: dom.getHiddenInputId(state.context),\n        tabIndex: -1,\n        disabled,\n        type: \"file\",\n        required: state.context.required,\n        capture: state.context.capture,\n        name: state.context.name,\n        accept: state.context.acceptAttr,\n        webkitdirectory: state.context.directory ? \"\" : void 0,\n        multiple: state.context.multiple || state.context.maxFiles > 1,\n        onClick(event) {\n          event.stopPropagation();\n          event.currentTarget.value = \"\";\n        },\n        onChange(event) {\n          if (disabled) return;\n          const {\n            files\n          } = event.currentTarget;\n          send({\n            type: \"FILES.SET\",\n            files: files ? Array.from(files) : []\n          });\n        },\n        style: visuallyHiddenStyle\n      });\n    },\n    getItemGroupProps() {\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled)\n      });\n    },\n    getItemProps(props2) {\n      const {\n        file\n      } = props2;\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, file.name),\n        \"data-disabled\": dataAttr(disabled)\n      });\n    },\n    getItemNameProps(props2) {\n      const {\n        file\n      } = props2;\n      return normalize.element({\n        ...parts.itemName.attrs,\n        dir: state.context.dir,\n        id: dom.getItemNameId(state.context, file.name),\n        \"data-disabled\": dataAttr(disabled)\n      });\n    },\n    getItemSizeTextProps(props2) {\n      const {\n        file\n      } = props2;\n      return normalize.element({\n        ...parts.itemSizeText.attrs,\n        dir: state.context.dir,\n        id: dom.getItemSizeTextId(state.context, file.name),\n        \"data-disabled\": dataAttr(disabled)\n      });\n    },\n    getItemPreviewProps(props2) {\n      const {\n        file\n      } = props2;\n      return normalize.element({\n        ...parts.itemPreview.attrs,\n        dir: state.context.dir,\n        id: dom.getItemPreviewId(state.context, file.name),\n        \"data-disabled\": dataAttr(disabled)\n      });\n    },\n    getItemPreviewImageProps(props2) {\n      const {\n        file,\n        url\n      } = props2;\n      const isImage = file.type.startsWith(\"image/\");\n      if (!isImage) {\n        throw new Error(\"Preview Image is only supported for image files\");\n      }\n      return normalize.img({\n        ...parts.itemPreviewImage.attrs,\n        alt: translations.itemPreview?.(file),\n        src: url,\n        \"data-disabled\": dataAttr(disabled)\n      });\n    },\n    getItemDeleteTriggerProps(props2) {\n      const {\n        file\n      } = props2;\n      return normalize.button({\n        ...parts.itemDeleteTrigger.attrs,\n        dir: state.context.dir,\n        type: \"button\",\n        disabled,\n        \"data-disabled\": dataAttr(disabled),\n        \"aria-label\": translations.deleteFile?.(file),\n        onClick() {\n          if (disabled) return;\n          send({\n            type: \"FILE.DELETE\",\n            file\n          });\n        }\n      });\n    },\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        id: dom.getLabelId(state.context),\n        htmlFor: dom.getHiddenInputId(state.context),\n        \"data-disabled\": dataAttr(disabled)\n      });\n    },\n    getClearTriggerProps() {\n      return normalize.button({\n        ...parts.clearTrigger.attrs,\n        dir: state.context.dir,\n        type: \"button\",\n        disabled,\n        hidden: state.context.acceptedFiles.length === 0,\n        \"data-disabled\": dataAttr(disabled),\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (disabled) return;\n          send({\n            type: \"FILES.CLEAR\"\n          });\n        }\n      });\n    }\n  };\n}\nfunction machine(userContext) {\n  const ctx = compact(userContext);\n  return createMachine({\n    id: \"fileupload\",\n    initial: \"idle\",\n    context: {\n      minFileSize: 0,\n      maxFileSize: Infinity,\n      maxFiles: 1,\n      allowDrop: true,\n      ...ctx,\n      acceptedFiles: ref([]),\n      rejectedFiles: ref([]),\n      translations: {\n        dropzone: \"dropzone\",\n        itemPreview: file => `preview of ${file.name}`,\n        deleteFile: file => `delete file ${file.name}`,\n        ...ctx.translations\n      }\n    },\n    computed: {\n      acceptAttr: ctx2 => getAcceptAttrString(ctx2.accept),\n      multiple: ctx2 => ctx2.maxFiles > 1\n    },\n    on: {\n      \"FILES.SET\": {\n        actions: [\"setFilesFromEvent\"]\n      },\n      \"FILE.DELETE\": {\n        actions: [\"removeFile\"]\n      },\n      \"FILES.CLEAR\": {\n        actions: [\"clearFiles\"]\n      },\n      \"REJECTED_FILES.CLEAR\": {\n        actions: [\"clearRejectedFiles\"]\n      }\n    },\n    states: {\n      idle: {\n        on: {\n          OPEN: {\n            actions: [\"openFilePicker\"]\n          },\n          \"DROPZONE.CLICK\": {\n            actions: [\"openFilePicker\"]\n          },\n          \"DROPZONE.FOCUS\": \"focused\",\n          \"DROPZONE.DRAG_OVER\": {\n            target: \"dragging\"\n          }\n        }\n      },\n      focused: {\n        on: {\n          \"DROPZONE.BLUR\": \"idle\",\n          OPEN: {\n            actions: [\"openFilePicker\"]\n          },\n          \"DROPZONE.CLICK\": {\n            actions: [\"openFilePicker\"]\n          },\n          \"DROPZONE.DRAG_OVER\": {\n            target: \"dragging\"\n          }\n        }\n      },\n      dragging: {\n        on: {\n          \"DROPZONE.DROP\": {\n            target: \"idle\",\n            actions: [\"setFilesFromEvent\", \"syncInputElement\"]\n          },\n          \"DROPZONE.DRAG_LEAVE\": {\n            target: \"idle\"\n          }\n        }\n      }\n    }\n  }, {\n    actions: {\n      syncInputElement(ctx2) {\n        const inputEl = dom.getHiddenInputEl(ctx2);\n        if (!inputEl) return;\n        const win = dom.getWin(ctx2);\n        const dataTransfer = new win.DataTransfer();\n        ctx2.acceptedFiles.forEach(v => {\n          dataTransfer.items.add(v);\n        });\n        inputEl.files = dataTransfer.files;\n      },\n      openFilePicker(ctx2) {\n        raf(() => {\n          dom.getHiddenInputEl(ctx2)?.click();\n        });\n      },\n      setFilesFromEvent(ctx2, evt) {\n        const result = getFilesFromEvent(ctx2, evt.files);\n        const {\n          acceptedFiles,\n          rejectedFiles\n        } = result;\n        if (ctx2.multiple) {\n          const files = ref([...ctx2.acceptedFiles, ...acceptedFiles]);\n          set.files(ctx2, files, rejectedFiles);\n          return;\n        }\n        if (acceptedFiles.length) {\n          const files = ref([acceptedFiles[0]]);\n          set.files(ctx2, files, rejectedFiles);\n        } else if (rejectedFiles.length) {\n          set.files(ctx2, ctx2.acceptedFiles, rejectedFiles);\n        }\n      },\n      removeFile(ctx2, evt) {\n        const nextFiles = ctx2.acceptedFiles.filter(file => file !== evt.file);\n        ctx2.acceptedFiles = ref(nextFiles);\n        invoke.change(ctx2);\n      },\n      clearRejectedFiles(ctx2) {\n        ctx2.rejectedFiles = ref([]);\n        invoke.change(ctx2);\n      },\n      clearFiles(ctx2) {\n        ctx2.acceptedFiles = ref([]);\n        ctx2.rejectedFiles = ref([]);\n        invoke.change(ctx2);\n      }\n    },\n    compareFns: {\n      acceptedFiles: (a, b) => a.length === b.length && a.every((file, i) => isFileEqual(file, b[i]))\n    }\n  });\n}\nvar invoke = {\n  change: ctx => {\n    ctx.onFileChange?.({\n      acceptedFiles: ctx.acceptedFiles,\n      rejectedFiles: ctx.rejectedFiles\n    });\n  },\n  accept: ctx => {\n    ctx.onFileAccept?.({\n      files: ctx.acceptedFiles\n    });\n  },\n  reject: ctx => {\n    ctx.onFileReject?.({\n      files: ctx.rejectedFiles\n    });\n  }\n};\nvar set = {\n  files: (ctx, acceptedFiles, rejectedFiles) => {\n    ctx.acceptedFiles = ref(acceptedFiles);\n    invoke.accept(ctx);\n    if (rejectedFiles) {\n      ctx.rejectedFiles = ref(rejectedFiles);\n      invoke.reject(ctx);\n    }\n    invoke.change(ctx);\n  }\n};\nvar props = createProps()([\"accept\", \"allowDrop\", \"capture\", \"dir\", \"directory\", \"disabled\", \"getRootNode\", \"id\", \"ids\", \"locale\", \"maxFiles\", \"maxFileSize\", \"minFileSize\", \"name\", \"invalid\", \"onFileAccept\", \"onFileReject\", \"onFileChange\", \"required\", \"translations\", \"validate\"]);\nvar splitProps = createSplitProps(props);\nvar itemProps = createProps()([\"file\"]);\nvar splitItemProps = createSplitProps(itemProps);\nexport { anatomy, connect, itemProps, machine, props, splitItemProps, splitProps };","map":{"version":3,"names":["createAnatomy","createScope","dataAttr","isSelfTarget","contains","visuallyHiddenStyle","raf","getEventTarget","formatBytes","createProps","getAcceptAttrString","isFileEqual","isValidFileType","isValidFileSize","createMachine","ref","createSplitProps","compact","anatomy","parts","build","dom","getRootId","ctx","ids","root","id","getDropzoneId","dropzone","getHiddenInputId","hiddenInput","getTriggerId","trigger","getLabelId","label","getItemId","item","getItemNameId","itemName","getItemSizeTextId","itemSizeText","getItemPreviewId","itemPreview","getHiddenInputEl","getById","getDropzoneEl","isEventWithFiles","event","target","dataTransfer","types","some","type","isFilesWithinRange","incomingCount","multiple","acceptedFiles","length","maxFiles","getFilesFromEvent","files","rejectedFiles","forEach","file","accepted","acceptError","acceptAttr","sizeMatch","sizeError","minFileSize","maxFileSize","validateErrors","validate","valid","push","errors","filter","Boolean","splice","connect","state","send","normalize","disabled","context","allowDrop","translations","dragging","matches","focused","openFilePicker","deleteFile","setFiles","count","clearRejectedFiles","clearFiles","getFileSize","size","locale","createFileUrl","cb","win","getWin","url","URL","createObjectURL","revokeObjectURL","getRootProps","element","attrs","dir","getDropzoneProps","tabIndex","role","invalid","onKeyDown","defaultPrevented","key","src","onClick","isLabel","currentTarget","localName","preventDefault","onDragOver","stopPropagation","dropEffect","hasFiles","items","onDragLeave","relatedTarget","onDrop","Array","from","onFocus","onBlur","getTriggerProps","button","getHiddenInputProps","input","required","capture","name","accept","webkitdirectory","directory","value","onChange","style","getItemGroupProps","itemGroup","getItemProps","props2","getItemNameProps","getItemSizeTextProps","getItemPreviewProps","getItemPreviewImageProps","isImage","startsWith","Error","img","itemPreviewImage","alt","getItemDeleteTriggerProps","itemDeleteTrigger","getLabelProps","htmlFor","getClearTriggerProps","clearTrigger","hidden","machine","userContext","initial","Infinity","computed","ctx2","on","actions","states","idle","OPEN","syncInputElement","inputEl","DataTransfer","v","add","click","setFilesFromEvent","evt","result","set","removeFile","nextFiles","invoke","change","compareFns","a","b","every","i","onFileChange","onFileAccept","reject","onFileReject","props","splitProps","itemProps","splitItemProps"],"sources":["D:/assignment/e_commerce/ecommerce-product-page/node_modules/@zag-js/file-upload/dist/index.mjs"],"sourcesContent":["import { createAnatomy } from '@zag-js/anatomy';\nimport { createScope, dataAttr, isSelfTarget, contains, visuallyHiddenStyle, raf, getEventTarget } from '@zag-js/dom-query';\nimport { formatBytes } from '@zag-js/i18n-utils';\nimport { createProps } from '@zag-js/types';\nimport { getAcceptAttrString, isFileEqual, isValidFileType, isValidFileSize } from '@zag-js/file-utils';\nimport { createMachine, ref } from '@zag-js/core';\nimport { createSplitProps, compact } from '@zag-js/utils';\n\n// src/file-upload.anatomy.ts\nvar anatomy = createAnatomy(\"file-upload\").parts(\n  \"root\",\n  \"dropzone\",\n  \"item\",\n  \"itemDeleteTrigger\",\n  \"itemGroup\",\n  \"itemName\",\n  \"itemPreview\",\n  \"itemPreviewImage\",\n  \"itemSizeText\",\n  \"label\",\n  \"trigger\",\n  \"clearTrigger\"\n);\nvar parts = anatomy.build();\nvar dom = createScope({\n  getRootId: (ctx) => ctx.ids?.root ?? `file:${ctx.id}`,\n  getDropzoneId: (ctx) => ctx.ids?.dropzone ?? `file:${ctx.id}:dropzone`,\n  getHiddenInputId: (ctx) => ctx.ids?.hiddenInput ?? `file:${ctx.id}:input`,\n  getTriggerId: (ctx) => ctx.ids?.trigger ?? `file:${ctx.id}:trigger`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `file:${ctx.id}:label`,\n  getItemId: (ctx, id) => ctx.ids?.item?.(id) ?? `file:${ctx.id}:item:${id}`,\n  getItemNameId: (ctx, id) => ctx.ids?.itemName?.(id) ?? `file:${ctx.id}:item-name:${id}`,\n  getItemSizeTextId: (ctx, id) => ctx.ids?.itemSizeText?.(id) ?? `file:${ctx.id}:item-size:${id}`,\n  getItemPreviewId: (ctx, id) => ctx.ids?.itemPreview?.(id) ?? `file:${ctx.id}:item-preview:${id}`,\n  getHiddenInputEl: (ctx) => dom.getById(ctx, dom.getHiddenInputId(ctx)),\n  getDropzoneEl: (ctx) => dom.getById(ctx, dom.getDropzoneId(ctx))\n});\nfunction isEventWithFiles(event) {\n  const target = getEventTarget(event);\n  if (!event.dataTransfer) return !!target && \"files\" in target;\n  return event.dataTransfer.types.some((type) => {\n    return type === \"Files\" || type === \"application/x-moz-file\";\n  });\n}\nfunction isFilesWithinRange(ctx, incomingCount) {\n  if (!ctx.multiple && incomingCount > 1) return false;\n  if (!ctx.multiple && incomingCount + ctx.acceptedFiles.length === 2) return true;\n  if (incomingCount + ctx.acceptedFiles.length > ctx.maxFiles) return false;\n  return true;\n}\nfunction getFilesFromEvent(ctx, files) {\n  const acceptedFiles = [];\n  const rejectedFiles = [];\n  files.forEach((file) => {\n    const [accepted, acceptError] = isValidFileType(file, ctx.acceptAttr);\n    const [sizeMatch, sizeError] = isValidFileSize(file, ctx.minFileSize, ctx.maxFileSize);\n    const validateErrors = ctx.validate?.(file);\n    const valid = validateErrors ? validateErrors.length === 0 : true;\n    if (accepted && sizeMatch && valid) {\n      acceptedFiles.push(file);\n    } else {\n      const errors = [acceptError, sizeError];\n      if (!valid) errors.push(...validateErrors ?? []);\n      rejectedFiles.push({ file, errors: errors.filter(Boolean) });\n    }\n  });\n  if (!isFilesWithinRange(ctx, acceptedFiles.length)) {\n    acceptedFiles.forEach((file) => {\n      rejectedFiles.push({ file, errors: [\"TOO_MANY_FILES\"] });\n    });\n    acceptedFiles.splice(0);\n  }\n  return {\n    acceptedFiles,\n    rejectedFiles\n  };\n}\n\n// src/file-upload.connect.ts\nfunction connect(state, send, normalize) {\n  const disabled = state.context.disabled;\n  const allowDrop = state.context.allowDrop;\n  const translations = state.context.translations;\n  const dragging = state.matches(\"dragging\");\n  const focused = state.matches(\"focused\") && !disabled;\n  return {\n    dragging,\n    focused,\n    openFilePicker() {\n      send(\"OPEN\");\n    },\n    deleteFile(file) {\n      send({ type: \"FILE.DELETE\", file });\n    },\n    acceptedFiles: state.context.acceptedFiles,\n    rejectedFiles: state.context.rejectedFiles,\n    setFiles(files) {\n      const count = files.length;\n      send({ type: \"FILES.SET\", files, count });\n    },\n    clearRejectedFiles() {\n      send({ type: \"REJECTED_FILES.CLEAR\" });\n    },\n    clearFiles() {\n      send({ type: \"FILES.CLEAR\" });\n    },\n    getFileSize(file) {\n      return formatBytes(file.size, state.context.locale);\n    },\n    createFileUrl(file, cb) {\n      const win = dom.getWin(state.context);\n      const url = win.URL.createObjectURL(file);\n      cb(url);\n      return () => win.URL.revokeObjectURL(url);\n    },\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-dragging\": dataAttr(dragging)\n      });\n    },\n    getDropzoneProps() {\n      return normalize.element({\n        ...parts.dropzone.attrs,\n        dir: state.context.dir,\n        id: dom.getDropzoneId(state.context),\n        tabIndex: disabled ? void 0 : 0,\n        role: \"button\",\n        \"aria-label\": translations.dropzone,\n        \"aria-disabled\": disabled,\n        \"data-invalid\": dataAttr(state.context.invalid),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-dragging\": dataAttr(dragging),\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (!isSelfTarget(event)) return;\n          if (event.key !== \"Enter\" && event.key !== \" \") return;\n          send({ type: \"DROPZONE.CLICK\", src: \"keydown\" });\n        },\n        onClick(event) {\n          const isLabel = event.currentTarget.localName === \"label\";\n          if (isLabel) event.preventDefault();\n          send(\"DROPZONE.CLICK\");\n        },\n        onDragOver(event) {\n          if (!allowDrop) return;\n          event.preventDefault();\n          event.stopPropagation();\n          try {\n            event.dataTransfer.dropEffect = \"copy\";\n          } catch {\n          }\n          const hasFiles = isEventWithFiles(event);\n          if (!hasFiles) return;\n          const count = event.dataTransfer.items.length;\n          send({ type: \"DROPZONE.DRAG_OVER\", count });\n        },\n        onDragLeave(event) {\n          if (!allowDrop || disabled) return;\n          if (contains(event.currentTarget, event.relatedTarget)) return;\n          send({ type: \"DROPZONE.DRAG_LEAVE\" });\n        },\n        onDrop(event) {\n          if (allowDrop) {\n            event.preventDefault();\n            event.stopPropagation();\n          }\n          const hasFiles = isEventWithFiles(event);\n          if (disabled || !hasFiles) return;\n          send({ type: \"DROPZONE.DROP\", files: Array.from(event.dataTransfer.files) });\n        },\n        onFocus() {\n          send(\"DROPZONE.FOCUS\");\n        },\n        onBlur() {\n          send(\"DROPZONE.BLUR\");\n        }\n      });\n    },\n    getTriggerProps() {\n      return normalize.button({\n        ...parts.trigger.attrs,\n        dir: state.context.dir,\n        id: dom.getTriggerId(state.context),\n        disabled,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(state.context.invalid),\n        type: \"button\",\n        onClick(event) {\n          if (disabled) return;\n          if (contains(dom.getDropzoneEl(state.context), event.currentTarget)) {\n            event.stopPropagation();\n          }\n          send(\"OPEN\");\n        }\n      });\n    },\n    getHiddenInputProps() {\n      return normalize.input({\n        id: dom.getHiddenInputId(state.context),\n        tabIndex: -1,\n        disabled,\n        type: \"file\",\n        required: state.context.required,\n        capture: state.context.capture,\n        name: state.context.name,\n        accept: state.context.acceptAttr,\n        webkitdirectory: state.context.directory ? \"\" : void 0,\n        multiple: state.context.multiple || state.context.maxFiles > 1,\n        onClick(event) {\n          event.stopPropagation();\n          event.currentTarget.value = \"\";\n        },\n        onChange(event) {\n          if (disabled) return;\n          const { files } = event.currentTarget;\n          send({ type: \"FILES.SET\", files: files ? Array.from(files) : [] });\n        },\n        style: visuallyHiddenStyle\n      });\n    },\n    getItemGroupProps() {\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled)\n      });\n    },\n    getItemProps(props2) {\n      const { file } = props2;\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, file.name),\n        \"data-disabled\": dataAttr(disabled)\n      });\n    },\n    getItemNameProps(props2) {\n      const { file } = props2;\n      return normalize.element({\n        ...parts.itemName.attrs,\n        dir: state.context.dir,\n        id: dom.getItemNameId(state.context, file.name),\n        \"data-disabled\": dataAttr(disabled)\n      });\n    },\n    getItemSizeTextProps(props2) {\n      const { file } = props2;\n      return normalize.element({\n        ...parts.itemSizeText.attrs,\n        dir: state.context.dir,\n        id: dom.getItemSizeTextId(state.context, file.name),\n        \"data-disabled\": dataAttr(disabled)\n      });\n    },\n    getItemPreviewProps(props2) {\n      const { file } = props2;\n      return normalize.element({\n        ...parts.itemPreview.attrs,\n        dir: state.context.dir,\n        id: dom.getItemPreviewId(state.context, file.name),\n        \"data-disabled\": dataAttr(disabled)\n      });\n    },\n    getItemPreviewImageProps(props2) {\n      const { file, url } = props2;\n      const isImage = file.type.startsWith(\"image/\");\n      if (!isImage) {\n        throw new Error(\"Preview Image is only supported for image files\");\n      }\n      return normalize.img({\n        ...parts.itemPreviewImage.attrs,\n        alt: translations.itemPreview?.(file),\n        src: url,\n        \"data-disabled\": dataAttr(disabled)\n      });\n    },\n    getItemDeleteTriggerProps(props2) {\n      const { file } = props2;\n      return normalize.button({\n        ...parts.itemDeleteTrigger.attrs,\n        dir: state.context.dir,\n        type: \"button\",\n        disabled,\n        \"data-disabled\": dataAttr(disabled),\n        \"aria-label\": translations.deleteFile?.(file),\n        onClick() {\n          if (disabled) return;\n          send({ type: \"FILE.DELETE\", file });\n        }\n      });\n    },\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        id: dom.getLabelId(state.context),\n        htmlFor: dom.getHiddenInputId(state.context),\n        \"data-disabled\": dataAttr(disabled)\n      });\n    },\n    getClearTriggerProps() {\n      return normalize.button({\n        ...parts.clearTrigger.attrs,\n        dir: state.context.dir,\n        type: \"button\",\n        disabled,\n        hidden: state.context.acceptedFiles.length === 0,\n        \"data-disabled\": dataAttr(disabled),\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (disabled) return;\n          send({ type: \"FILES.CLEAR\" });\n        }\n      });\n    }\n  };\n}\nfunction machine(userContext) {\n  const ctx = compact(userContext);\n  return createMachine(\n    {\n      id: \"fileupload\",\n      initial: \"idle\",\n      context: {\n        minFileSize: 0,\n        maxFileSize: Infinity,\n        maxFiles: 1,\n        allowDrop: true,\n        ...ctx,\n        acceptedFiles: ref([]),\n        rejectedFiles: ref([]),\n        translations: {\n          dropzone: \"dropzone\",\n          itemPreview: (file) => `preview of ${file.name}`,\n          deleteFile: (file) => `delete file ${file.name}`,\n          ...ctx.translations\n        }\n      },\n      computed: {\n        acceptAttr: (ctx2) => getAcceptAttrString(ctx2.accept),\n        multiple: (ctx2) => ctx2.maxFiles > 1\n      },\n      on: {\n        \"FILES.SET\": {\n          actions: [\"setFilesFromEvent\"]\n        },\n        \"FILE.DELETE\": {\n          actions: [\"removeFile\"]\n        },\n        \"FILES.CLEAR\": {\n          actions: [\"clearFiles\"]\n        },\n        \"REJECTED_FILES.CLEAR\": {\n          actions: [\"clearRejectedFiles\"]\n        }\n      },\n      states: {\n        idle: {\n          on: {\n            OPEN: {\n              actions: [\"openFilePicker\"]\n            },\n            \"DROPZONE.CLICK\": {\n              actions: [\"openFilePicker\"]\n            },\n            \"DROPZONE.FOCUS\": \"focused\",\n            \"DROPZONE.DRAG_OVER\": {\n              target: \"dragging\"\n            }\n          }\n        },\n        focused: {\n          on: {\n            \"DROPZONE.BLUR\": \"idle\",\n            OPEN: {\n              actions: [\"openFilePicker\"]\n            },\n            \"DROPZONE.CLICK\": {\n              actions: [\"openFilePicker\"]\n            },\n            \"DROPZONE.DRAG_OVER\": {\n              target: \"dragging\"\n            }\n          }\n        },\n        dragging: {\n          on: {\n            \"DROPZONE.DROP\": {\n              target: \"idle\",\n              actions: [\"setFilesFromEvent\", \"syncInputElement\"]\n            },\n            \"DROPZONE.DRAG_LEAVE\": {\n              target: \"idle\"\n            }\n          }\n        }\n      }\n    },\n    {\n      actions: {\n        syncInputElement(ctx2) {\n          const inputEl = dom.getHiddenInputEl(ctx2);\n          if (!inputEl) return;\n          const win = dom.getWin(ctx2);\n          const dataTransfer = new win.DataTransfer();\n          ctx2.acceptedFiles.forEach((v) => {\n            dataTransfer.items.add(v);\n          });\n          inputEl.files = dataTransfer.files;\n        },\n        openFilePicker(ctx2) {\n          raf(() => {\n            dom.getHiddenInputEl(ctx2)?.click();\n          });\n        },\n        setFilesFromEvent(ctx2, evt) {\n          const result = getFilesFromEvent(ctx2, evt.files);\n          const { acceptedFiles, rejectedFiles } = result;\n          if (ctx2.multiple) {\n            const files = ref([...ctx2.acceptedFiles, ...acceptedFiles]);\n            set.files(ctx2, files, rejectedFiles);\n            return;\n          }\n          if (acceptedFiles.length) {\n            const files = ref([acceptedFiles[0]]);\n            set.files(ctx2, files, rejectedFiles);\n          } else if (rejectedFiles.length) {\n            set.files(ctx2, ctx2.acceptedFiles, rejectedFiles);\n          }\n        },\n        removeFile(ctx2, evt) {\n          const nextFiles = ctx2.acceptedFiles.filter((file) => file !== evt.file);\n          ctx2.acceptedFiles = ref(nextFiles);\n          invoke.change(ctx2);\n        },\n        clearRejectedFiles(ctx2) {\n          ctx2.rejectedFiles = ref([]);\n          invoke.change(ctx2);\n        },\n        clearFiles(ctx2) {\n          ctx2.acceptedFiles = ref([]);\n          ctx2.rejectedFiles = ref([]);\n          invoke.change(ctx2);\n        }\n      },\n      compareFns: {\n        acceptedFiles: (a, b) => a.length === b.length && a.every((file, i) => isFileEqual(file, b[i]))\n      }\n    }\n  );\n}\nvar invoke = {\n  change: (ctx) => {\n    ctx.onFileChange?.({\n      acceptedFiles: ctx.acceptedFiles,\n      rejectedFiles: ctx.rejectedFiles\n    });\n  },\n  accept: (ctx) => {\n    ctx.onFileAccept?.({ files: ctx.acceptedFiles });\n  },\n  reject: (ctx) => {\n    ctx.onFileReject?.({ files: ctx.rejectedFiles });\n  }\n};\nvar set = {\n  files: (ctx, acceptedFiles, rejectedFiles) => {\n    ctx.acceptedFiles = ref(acceptedFiles);\n    invoke.accept(ctx);\n    if (rejectedFiles) {\n      ctx.rejectedFiles = ref(rejectedFiles);\n      invoke.reject(ctx);\n    }\n    invoke.change(ctx);\n  }\n};\nvar props = createProps()([\n  \"accept\",\n  \"allowDrop\",\n  \"capture\",\n  \"dir\",\n  \"directory\",\n  \"disabled\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"locale\",\n  \"maxFiles\",\n  \"maxFileSize\",\n  \"minFileSize\",\n  \"name\",\n  \"invalid\",\n  \"onFileAccept\",\n  \"onFileReject\",\n  \"onFileChange\",\n  \"required\",\n  \"translations\",\n  \"validate\"\n]);\nvar splitProps = createSplitProps(props);\nvar itemProps = createProps()([\"file\"]);\nvar splitItemProps = createSplitProps(itemProps);\n\nexport { anatomy, connect, itemProps, machine, props, splitItemProps, splitProps };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}