{"ast":null,"code":"import { isMac, isFirefox, getWindow, getDocument, getEventTarget, contains } from '@zag-js/dom-query';\nimport { disableTextSelection } from '@zag-js/text-selection';\n\n// src/add-dom-event.ts\nvar addDomEvent = (target, eventName, handler, options) => {\n  const node = typeof target === \"function\" ? target() : target;\n  node?.addEventListener(eventName, handler, options);\n  return () => {\n    node?.removeEventListener(eventName, handler, options);\n  };\n};\nfunction isKeyboardClick(e) {\n  return e.detail === 0 || e.clientX === 0 && e.clientY === 0;\n}\nfunction isPrintableKey(e) {\n  return e.key.length === 1 && !e.ctrlKey && !e.metaKey;\n}\nfunction isVirtualPointerEvent(e) {\n  return e.width === 0 && e.height === 0 || e.width === 1 && e.height === 1 && e.pressure === 0 && e.detail === 0 && e.pointerType === \"mouse\";\n}\nfunction isVirtualClick(e) {\n  if (e.mozInputSource === 0 && e.isTrusted) return true;\n  return e.detail === 0 && !e.pointerType;\n}\nvar isLeftClick = e => e.button === 0;\nvar isContextMenuEvent = e => {\n  return e.button === 2 || isMac() && e.ctrlKey && e.button === 0;\n};\nvar isModifierKey = e => e.ctrlKey || e.altKey || e.metaKey;\n\n// src/queue-before-event.ts\nfunction queueBeforeEvent(element, type, cb) {\n  const createTimer = callback => {\n    const timerId = requestAnimationFrame(callback);\n    return () => cancelAnimationFrame(timerId);\n  };\n  const cancelTimer = createTimer(() => {\n    element.removeEventListener(type, callSync, true);\n    cb();\n  });\n  const callSync = () => {\n    cancelTimer();\n    cb();\n  };\n  element.addEventListener(type, callSync, {\n    once: true,\n    capture: true\n  });\n  return cancelTimer;\n}\n\n// src/click-link.ts\nfunction isLinkElement(element) {\n  return element?.matches(\"a[href]\") ?? false;\n}\nfunction clickIfLink(element) {\n  if (!isLinkElement(element)) return;\n  const click = () => element.click();\n  if (isFirefox()) {\n    queueBeforeEvent(element, \"keyup\", click);\n  } else {\n    queueMicrotask(click);\n  }\n}\n\n// src/fire-event.ts\nfunction fireCustomEvent(el, type, init) {\n  if (!el) return;\n  const win = el.ownerDocument.defaultView || window;\n  const event = new win.CustomEvent(type, init);\n  return el.dispatchEvent(event);\n}\nfunction fireBlurEvent(el, init) {\n  const win = el.ownerDocument.defaultView || window;\n  const event = new win.FocusEvent(\"blur\", init);\n  const allowed = el.dispatchEvent(event);\n  const bubbleInit = {\n    ...init,\n    bubbles: true\n  };\n  el.dispatchEvent(new win.FocusEvent(\"focusout\", bubbleInit));\n  return allowed;\n}\n\n// src/get-event-key.ts\nvar keyMap = {\n  Up: \"ArrowUp\",\n  Down: \"ArrowDown\",\n  Esc: \"Escape\",\n  \" \": \"Space\",\n  \",\": \"Comma\",\n  Left: \"ArrowLeft\",\n  Right: \"ArrowRight\"\n};\nvar rtlKeyMap = {\n  ArrowLeft: \"ArrowRight\",\n  ArrowRight: \"ArrowLeft\"\n};\nfunction getEventKey(event, options = {}) {\n  const {\n    dir = \"ltr\",\n    orientation = \"horizontal\"\n  } = options;\n  let {\n    key\n  } = event;\n  key = keyMap[key] ?? key;\n  const isRtl = dir === \"rtl\" && orientation === \"horizontal\";\n  if (isRtl && key in rtlKeyMap) {\n    key = rtlKeyMap[key];\n  }\n  return key;\n}\n\n// src/get-event-point.ts\nfunction pointFromTouch(e, type = \"client\") {\n  const point = e.touches[0] || e.changedTouches[0];\n  return {\n    x: point[`${type}X`],\n    y: point[`${type}Y`]\n  };\n}\nfunction pointFromMouse(point, type = \"client\") {\n  return {\n    x: point[`${type}X`],\n    y: point[`${type}Y`]\n  };\n}\nvar isTouchEvent = event => \"touches\" in event && event.touches.length > 0;\nfunction getEventPoint(event, type = \"client\") {\n  return isTouchEvent(event) ? pointFromTouch(event, type) : pointFromMouse(event, type);\n}\n\n// src/get-event-step.ts\nvar PAGE_KEYS = /* @__PURE__ */new Set([\"PageUp\", \"PageDown\"]);\nvar ARROW_KEYS = /* @__PURE__ */new Set([\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"]);\nfunction getEventStep(event) {\n  if (event.ctrlKey || event.metaKey) {\n    return 0.1;\n  } else {\n    const isPageKey = PAGE_KEYS.has(event.key);\n    const isSkipKey = isPageKey || event.shiftKey && ARROW_KEYS.has(event.key);\n    return isSkipKey ? 10 : 1;\n  }\n}\n\n// src/get-native-event.ts\nfunction getNativeEvent(event) {\n  return event.nativeEvent ?? event;\n}\n\n// src/get-point-value.ts\nfunction clamp(value) {\n  return Math.max(0, Math.min(1, value));\n}\nfunction getRelativePoint(point, element) {\n  const {\n    left,\n    top,\n    width,\n    height\n  } = element.getBoundingClientRect();\n  const offset = {\n    x: point.x - left,\n    y: point.y - top\n  };\n  const percent = {\n    x: clamp(offset.x / width),\n    y: clamp(offset.y / height)\n  };\n  function getPercentValue(options = {}) {\n    const {\n      dir = \"ltr\",\n      orientation = \"horizontal\",\n      inverted\n    } = options;\n    const invertX = typeof inverted === \"object\" ? inverted.x : inverted;\n    const invertY = typeof inverted === \"object\" ? inverted.y : inverted;\n    if (orientation === \"horizontal\") {\n      return dir === \"rtl\" || invertX ? 1 - percent.x : percent.x;\n    }\n    return invertY ? 1 - percent.y : percent.y;\n  }\n  return {\n    offset,\n    percent,\n    getPercentValue\n  };\n}\n\n// src/request-pointer-lock.ts\nfunction requestPointerLock(doc, fn) {\n  const body = doc.body;\n  const supported = \"pointerLockElement\" in doc || \"mozPointerLockElement\" in doc;\n  const isLocked = () => !!doc.pointerLockElement;\n  function onPointerChange() {\n    fn?.(isLocked());\n  }\n  function onPointerError(event) {\n    if (isLocked()) fn?.(false);\n    console.error(\"PointerLock error occured:\", event);\n    doc.exitPointerLock();\n  }\n  if (!supported) return;\n  try {\n    body.requestPointerLock();\n  } catch {}\n  const cleanup = [addDomEvent(doc, \"pointerlockchange\", onPointerChange, false), addDomEvent(doc, \"pointerlockerror\", onPointerError, false)];\n  return () => {\n    cleanup.forEach(cleanup2 => cleanup2());\n    doc.exitPointerLock();\n  };\n}\nfunction trackPointerMove(doc, handlers) {\n  const {\n    onPointerMove,\n    onPointerUp\n  } = handlers;\n  const history = [];\n  const handleMove = event => {\n    const point = getEventPoint(event);\n    history.push({\n      ...point,\n      timestamp: performance.now()\n    });\n    const distance = Math.sqrt(point.x ** 2 + point.y ** 2);\n    const moveBuffer = event.pointerType === \"touch\" ? 10 : 5;\n    if (distance < moveBuffer) return;\n    if (event.pointerType === \"mouse\" && event.button === 0) {\n      onPointerUp();\n      return;\n    }\n    onPointerMove({\n      point,\n      event,\n      velocity: getVelocity(history, 0.1)\n    });\n  };\n  const cleanups = [addDomEvent(doc, \"pointermove\", handleMove, false), addDomEvent(doc, \"pointerup\", onPointerUp, false), addDomEvent(doc, \"pointercancel\", onPointerUp, false), addDomEvent(doc, \"contextmenu\", onPointerUp, false), disableTextSelection({\n    doc\n  })];\n  return () => {\n    cleanups.forEach(cleanup => cleanup());\n    history.length = 0;\n  };\n}\nfunction lastDevicePoint(history) {\n  return history[history.length - 1];\n}\nfunction ms(seconds) {\n  return seconds * 1e3;\n}\nfunction sec(milliseconds) {\n  return milliseconds / 1e3;\n}\nfunction getVelocity(history, timeDelta) {\n  if (history.length < 2) return {\n    x: 0,\n    y: 0\n  };\n  let i = history.length - 1;\n  let timestampedPoint = null;\n  const lastPoint = lastDevicePoint(history);\n  while (i >= 0) {\n    timestampedPoint = history[i];\n    if (lastPoint.timestamp - timestampedPoint.timestamp > ms(timeDelta)) {\n      break;\n    }\n    i--;\n  }\n  if (!timestampedPoint) return {\n    x: 0,\n    y: 0\n  };\n  const time = sec(lastPoint.timestamp - timestampedPoint.timestamp);\n  if (time === 0) return {\n    x: 0,\n    y: 0\n  };\n  const currentVelocity = {\n    x: (lastPoint.x - timestampedPoint.x) / time,\n    y: (lastPoint.y - timestampedPoint.y) / time\n  };\n  if (currentVelocity.x === Infinity) currentVelocity.x = 0;\n  if (currentVelocity.y === Infinity) currentVelocity.y = 0;\n  return {\n    x: Math.abs(currentVelocity.x),\n    y: Math.abs(currentVelocity.y)\n  };\n}\n\n// src/pipe.ts\nvar pipe = (...fns) => arg => fns.reduce((acc, fn) => fn(acc), arg);\nvar noop = () => void 0;\n\n// src/track-press.ts\nfunction trackPress(options) {\n  const {\n    pointerNode,\n    keyboardNode = pointerNode,\n    onPress,\n    onPressStart,\n    onPressEnd,\n    isValidKey = e => e.key === \"Enter\"\n  } = options;\n  if (!pointerNode) return noop;\n  const win = getWindow(pointerNode);\n  const doc = getDocument(pointerNode);\n  let removeStartListeners = noop;\n  let removeEndListeners = noop;\n  let removeAccessibleListeners = noop;\n  const getInfo = event => ({\n    point: getEventPoint(event),\n    event\n  });\n  function startPress(event) {\n    onPressStart?.(getInfo(event));\n  }\n  function cancelPress(event) {\n    onPressEnd?.(getInfo(event));\n  }\n  const startPointerPress = startEvent => {\n    removeEndListeners();\n    const endPointerPress = endEvent => {\n      const target = getEventTarget(endEvent);\n      if (contains(pointerNode, target)) {\n        onPress?.(getInfo(endEvent));\n      } else {\n        onPressEnd?.(getInfo(endEvent));\n      }\n    };\n    const removePointerUpListener = addDomEvent(win, \"pointerup\", endPointerPress, {\n      passive: !onPress\n    });\n    const removePointerCancelListener = addDomEvent(win, \"pointercancel\", cancelPress, {\n      passive: !onPressEnd\n    });\n    removeEndListeners = pipe(removePointerUpListener, removePointerCancelListener);\n    if (doc.activeElement === keyboardNode && startEvent.pointerType === \"mouse\") {\n      startEvent.preventDefault();\n    }\n    startPress(startEvent);\n  };\n  const removePointerListener = addDomEvent(pointerNode, \"pointerdown\", startPointerPress, {\n    passive: !onPressStart\n  });\n  const removeFocusListener = addDomEvent(keyboardNode, \"focus\", startAccessiblePress);\n  removeStartListeners = pipe(removePointerListener, removeFocusListener);\n  function startAccessiblePress() {\n    const handleKeydown = keydownEvent => {\n      if (!isValidKey(keydownEvent)) return;\n      const handleKeyup = keyupEvent => {\n        if (!isValidKey(keyupEvent)) return;\n        const evt2 = new win.PointerEvent(\"pointerup\");\n        const info = getInfo(evt2);\n        onPress?.(info);\n        onPressEnd?.(info);\n      };\n      removeEndListeners();\n      removeEndListeners = addDomEvent(keyboardNode, \"keyup\", handleKeyup);\n      const evt = new win.PointerEvent(\"pointerdown\");\n      startPress(evt);\n    };\n    const handleBlur = () => {\n      const evt = new win.PointerEvent(\"pointercancel\");\n      cancelPress(evt);\n    };\n    const removeKeydownListener = addDomEvent(keyboardNode, \"keydown\", handleKeydown);\n    const removeBlurListener = addDomEvent(keyboardNode, \"blur\", handleBlur);\n    removeAccessibleListeners = pipe(removeKeydownListener, removeBlurListener);\n  }\n  return function () {\n    removeStartListeners();\n    removeEndListeners();\n    removeAccessibleListeners();\n  };\n}\n\n// src/track-visual-viewport.ts\nfunction trackVisualViewport(doc, fn) {\n  const win = doc?.defaultView || window;\n  const onResize = () => {\n    fn?.(getViewportSize(win));\n  };\n  onResize();\n  return addDomEvent(win.visualViewport ?? win, \"resize\", onResize);\n}\nfunction getViewportSize(win) {\n  return {\n    width: win.visualViewport?.width || win.innerWidth,\n    height: win.visualViewport?.height || win.innerHeight\n  };\n}\nexport { addDomEvent, clickIfLink, fireBlurEvent, fireCustomEvent, getEventKey, getEventPoint, getEventStep, getNativeEvent, getRelativePoint, isContextMenuEvent, isKeyboardClick, isLeftClick, isModifierKey, isPrintableKey, isVirtualClick, isVirtualPointerEvent, queueBeforeEvent, requestPointerLock, trackPointerMove, trackPress, trackVisualViewport };","map":{"version":3,"names":["isMac","isFirefox","getWindow","getDocument","getEventTarget","contains","disableTextSelection","addDomEvent","target","eventName","handler","options","node","addEventListener","removeEventListener","isKeyboardClick","e","detail","clientX","clientY","isPrintableKey","key","length","ctrlKey","metaKey","isVirtualPointerEvent","width","height","pressure","pointerType","isVirtualClick","mozInputSource","isTrusted","isLeftClick","button","isContextMenuEvent","isModifierKey","altKey","queueBeforeEvent","element","type","cb","createTimer","callback","timerId","requestAnimationFrame","cancelAnimationFrame","cancelTimer","callSync","once","capture","isLinkElement","matches","clickIfLink","click","queueMicrotask","fireCustomEvent","el","init","win","ownerDocument","defaultView","window","event","CustomEvent","dispatchEvent","fireBlurEvent","FocusEvent","allowed","bubbleInit","bubbles","keyMap","Up","Down","Esc","Left","Right","rtlKeyMap","ArrowLeft","ArrowRight","getEventKey","dir","orientation","isRtl","pointFromTouch","point","touches","changedTouches","x","y","pointFromMouse","isTouchEvent","getEventPoint","PAGE_KEYS","Set","ARROW_KEYS","getEventStep","isPageKey","has","isSkipKey","shiftKey","getNativeEvent","nativeEvent","clamp","value","Math","max","min","getRelativePoint","left","top","getBoundingClientRect","offset","percent","getPercentValue","inverted","invertX","invertY","requestPointerLock","doc","fn","body","supported","isLocked","pointerLockElement","onPointerChange","onPointerError","console","error","exitPointerLock","cleanup","forEach","cleanup2","trackPointerMove","handlers","onPointerMove","onPointerUp","history","handleMove","push","timestamp","performance","now","distance","sqrt","moveBuffer","velocity","getVelocity","cleanups","lastDevicePoint","ms","seconds","sec","milliseconds","timeDelta","i","timestampedPoint","lastPoint","time","currentVelocity","Infinity","abs","pipe","fns","arg","reduce","acc","noop","trackPress","pointerNode","keyboardNode","onPress","onPressStart","onPressEnd","isValidKey","removeStartListeners","removeEndListeners","removeAccessibleListeners","getInfo","startPress","cancelPress","startPointerPress","startEvent","endPointerPress","endEvent","removePointerUpListener","passive","removePointerCancelListener","activeElement","preventDefault","removePointerListener","removeFocusListener","startAccessiblePress","handleKeydown","keydownEvent","handleKeyup","keyupEvent","evt2","PointerEvent","info","evt","handleBlur","removeKeydownListener","removeBlurListener","trackVisualViewport","onResize","getViewportSize","visualViewport","innerWidth","innerHeight"],"sources":["D:/assignment/e_commerce/ecommerce-product-page/node_modules/@zag-js/dom-event/dist/index.mjs"],"sourcesContent":["import { isMac, isFirefox, getWindow, getDocument, getEventTarget, contains } from '@zag-js/dom-query';\nimport { disableTextSelection } from '@zag-js/text-selection';\n\n// src/add-dom-event.ts\nvar addDomEvent = (target, eventName, handler, options) => {\n  const node = typeof target === \"function\" ? target() : target;\n  node?.addEventListener(eventName, handler, options);\n  return () => {\n    node?.removeEventListener(eventName, handler, options);\n  };\n};\nfunction isKeyboardClick(e) {\n  return e.detail === 0 || e.clientX === 0 && e.clientY === 0;\n}\nfunction isPrintableKey(e) {\n  return e.key.length === 1 && !e.ctrlKey && !e.metaKey;\n}\nfunction isVirtualPointerEvent(e) {\n  return e.width === 0 && e.height === 0 || e.width === 1 && e.height === 1 && e.pressure === 0 && e.detail === 0 && e.pointerType === \"mouse\";\n}\nfunction isVirtualClick(e) {\n  if (e.mozInputSource === 0 && e.isTrusted) return true;\n  return e.detail === 0 && !e.pointerType;\n}\nvar isLeftClick = (e) => e.button === 0;\nvar isContextMenuEvent = (e) => {\n  return e.button === 2 || isMac() && e.ctrlKey && e.button === 0;\n};\nvar isModifierKey = (e) => e.ctrlKey || e.altKey || e.metaKey;\n\n// src/queue-before-event.ts\nfunction queueBeforeEvent(element, type, cb) {\n  const createTimer = (callback) => {\n    const timerId = requestAnimationFrame(callback);\n    return () => cancelAnimationFrame(timerId);\n  };\n  const cancelTimer = createTimer(() => {\n    element.removeEventListener(type, callSync, true);\n    cb();\n  });\n  const callSync = () => {\n    cancelTimer();\n    cb();\n  };\n  element.addEventListener(type, callSync, { once: true, capture: true });\n  return cancelTimer;\n}\n\n// src/click-link.ts\nfunction isLinkElement(element) {\n  return element?.matches(\"a[href]\") ?? false;\n}\nfunction clickIfLink(element) {\n  if (!isLinkElement(element)) return;\n  const click = () => element.click();\n  if (isFirefox()) {\n    queueBeforeEvent(element, \"keyup\", click);\n  } else {\n    queueMicrotask(click);\n  }\n}\n\n// src/fire-event.ts\nfunction fireCustomEvent(el, type, init) {\n  if (!el) return;\n  const win = el.ownerDocument.defaultView || window;\n  const event = new win.CustomEvent(type, init);\n  return el.dispatchEvent(event);\n}\nfunction fireBlurEvent(el, init) {\n  const win = el.ownerDocument.defaultView || window;\n  const event = new win.FocusEvent(\"blur\", init);\n  const allowed = el.dispatchEvent(event);\n  const bubbleInit = { ...init, bubbles: true };\n  el.dispatchEvent(new win.FocusEvent(\"focusout\", bubbleInit));\n  return allowed;\n}\n\n// src/get-event-key.ts\nvar keyMap = {\n  Up: \"ArrowUp\",\n  Down: \"ArrowDown\",\n  Esc: \"Escape\",\n  \" \": \"Space\",\n  \",\": \"Comma\",\n  Left: \"ArrowLeft\",\n  Right: \"ArrowRight\"\n};\nvar rtlKeyMap = {\n  ArrowLeft: \"ArrowRight\",\n  ArrowRight: \"ArrowLeft\"\n};\nfunction getEventKey(event, options = {}) {\n  const { dir = \"ltr\", orientation = \"horizontal\" } = options;\n  let { key } = event;\n  key = keyMap[key] ?? key;\n  const isRtl = dir === \"rtl\" && orientation === \"horizontal\";\n  if (isRtl && key in rtlKeyMap) {\n    key = rtlKeyMap[key];\n  }\n  return key;\n}\n\n// src/get-event-point.ts\nfunction pointFromTouch(e, type = \"client\") {\n  const point = e.touches[0] || e.changedTouches[0];\n  return { x: point[`${type}X`], y: point[`${type}Y`] };\n}\nfunction pointFromMouse(point, type = \"client\") {\n  return { x: point[`${type}X`], y: point[`${type}Y`] };\n}\nvar isTouchEvent = (event) => \"touches\" in event && event.touches.length > 0;\nfunction getEventPoint(event, type = \"client\") {\n  return isTouchEvent(event) ? pointFromTouch(event, type) : pointFromMouse(event, type);\n}\n\n// src/get-event-step.ts\nvar PAGE_KEYS = /* @__PURE__ */ new Set([\"PageUp\", \"PageDown\"]);\nvar ARROW_KEYS = /* @__PURE__ */ new Set([\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"]);\nfunction getEventStep(event) {\n  if (event.ctrlKey || event.metaKey) {\n    return 0.1;\n  } else {\n    const isPageKey = PAGE_KEYS.has(event.key);\n    const isSkipKey = isPageKey || event.shiftKey && ARROW_KEYS.has(event.key);\n    return isSkipKey ? 10 : 1;\n  }\n}\n\n// src/get-native-event.ts\nfunction getNativeEvent(event) {\n  return event.nativeEvent ?? event;\n}\n\n// src/get-point-value.ts\nfunction clamp(value) {\n  return Math.max(0, Math.min(1, value));\n}\nfunction getRelativePoint(point, element) {\n  const { left, top, width, height } = element.getBoundingClientRect();\n  const offset = { x: point.x - left, y: point.y - top };\n  const percent = { x: clamp(offset.x / width), y: clamp(offset.y / height) };\n  function getPercentValue(options = {}) {\n    const { dir = \"ltr\", orientation = \"horizontal\", inverted } = options;\n    const invertX = typeof inverted === \"object\" ? inverted.x : inverted;\n    const invertY = typeof inverted === \"object\" ? inverted.y : inverted;\n    if (orientation === \"horizontal\") {\n      return dir === \"rtl\" || invertX ? 1 - percent.x : percent.x;\n    }\n    return invertY ? 1 - percent.y : percent.y;\n  }\n  return { offset, percent, getPercentValue };\n}\n\n// src/request-pointer-lock.ts\nfunction requestPointerLock(doc, fn) {\n  const body = doc.body;\n  const supported = \"pointerLockElement\" in doc || \"mozPointerLockElement\" in doc;\n  const isLocked = () => !!doc.pointerLockElement;\n  function onPointerChange() {\n    fn?.(isLocked());\n  }\n  function onPointerError(event) {\n    if (isLocked()) fn?.(false);\n    console.error(\"PointerLock error occured:\", event);\n    doc.exitPointerLock();\n  }\n  if (!supported) return;\n  try {\n    body.requestPointerLock();\n  } catch {\n  }\n  const cleanup = [\n    addDomEvent(doc, \"pointerlockchange\", onPointerChange, false),\n    addDomEvent(doc, \"pointerlockerror\", onPointerError, false)\n  ];\n  return () => {\n    cleanup.forEach((cleanup2) => cleanup2());\n    doc.exitPointerLock();\n  };\n}\nfunction trackPointerMove(doc, handlers) {\n  const { onPointerMove, onPointerUp } = handlers;\n  const history = [];\n  const handleMove = (event) => {\n    const point = getEventPoint(event);\n    history.push({ ...point, timestamp: performance.now() });\n    const distance = Math.sqrt(point.x ** 2 + point.y ** 2);\n    const moveBuffer = event.pointerType === \"touch\" ? 10 : 5;\n    if (distance < moveBuffer) return;\n    if (event.pointerType === \"mouse\" && event.button === 0) {\n      onPointerUp();\n      return;\n    }\n    onPointerMove({ point, event, velocity: getVelocity(history, 0.1) });\n  };\n  const cleanups = [\n    addDomEvent(doc, \"pointermove\", handleMove, false),\n    addDomEvent(doc, \"pointerup\", onPointerUp, false),\n    addDomEvent(doc, \"pointercancel\", onPointerUp, false),\n    addDomEvent(doc, \"contextmenu\", onPointerUp, false),\n    disableTextSelection({ doc })\n  ];\n  return () => {\n    cleanups.forEach((cleanup) => cleanup());\n    history.length = 0;\n  };\n}\nfunction lastDevicePoint(history) {\n  return history[history.length - 1];\n}\nfunction ms(seconds) {\n  return seconds * 1e3;\n}\nfunction sec(milliseconds) {\n  return milliseconds / 1e3;\n}\nfunction getVelocity(history, timeDelta) {\n  if (history.length < 2) return { x: 0, y: 0 };\n  let i = history.length - 1;\n  let timestampedPoint = null;\n  const lastPoint = lastDevicePoint(history);\n  while (i >= 0) {\n    timestampedPoint = history[i];\n    if (lastPoint.timestamp - timestampedPoint.timestamp > ms(timeDelta)) {\n      break;\n    }\n    i--;\n  }\n  if (!timestampedPoint) return { x: 0, y: 0 };\n  const time = sec(lastPoint.timestamp - timestampedPoint.timestamp);\n  if (time === 0) return { x: 0, y: 0 };\n  const currentVelocity = {\n    x: (lastPoint.x - timestampedPoint.x) / time,\n    y: (lastPoint.y - timestampedPoint.y) / time\n  };\n  if (currentVelocity.x === Infinity) currentVelocity.x = 0;\n  if (currentVelocity.y === Infinity) currentVelocity.y = 0;\n  return {\n    x: Math.abs(currentVelocity.x),\n    y: Math.abs(currentVelocity.y)\n  };\n}\n\n// src/pipe.ts\nvar pipe = (...fns) => (arg) => fns.reduce((acc, fn) => fn(acc), arg);\nvar noop = () => void 0;\n\n// src/track-press.ts\nfunction trackPress(options) {\n  const {\n    pointerNode,\n    keyboardNode = pointerNode,\n    onPress,\n    onPressStart,\n    onPressEnd,\n    isValidKey = (e) => e.key === \"Enter\"\n  } = options;\n  if (!pointerNode) return noop;\n  const win = getWindow(pointerNode);\n  const doc = getDocument(pointerNode);\n  let removeStartListeners = noop;\n  let removeEndListeners = noop;\n  let removeAccessibleListeners = noop;\n  const getInfo = (event) => ({\n    point: getEventPoint(event),\n    event\n  });\n  function startPress(event) {\n    onPressStart?.(getInfo(event));\n  }\n  function cancelPress(event) {\n    onPressEnd?.(getInfo(event));\n  }\n  const startPointerPress = (startEvent) => {\n    removeEndListeners();\n    const endPointerPress = (endEvent) => {\n      const target = getEventTarget(endEvent);\n      if (contains(pointerNode, target)) {\n        onPress?.(getInfo(endEvent));\n      } else {\n        onPressEnd?.(getInfo(endEvent));\n      }\n    };\n    const removePointerUpListener = addDomEvent(win, \"pointerup\", endPointerPress, { passive: !onPress });\n    const removePointerCancelListener = addDomEvent(win, \"pointercancel\", cancelPress, { passive: !onPressEnd });\n    removeEndListeners = pipe(removePointerUpListener, removePointerCancelListener);\n    if (doc.activeElement === keyboardNode && startEvent.pointerType === \"mouse\") {\n      startEvent.preventDefault();\n    }\n    startPress(startEvent);\n  };\n  const removePointerListener = addDomEvent(pointerNode, \"pointerdown\", startPointerPress, { passive: !onPressStart });\n  const removeFocusListener = addDomEvent(keyboardNode, \"focus\", startAccessiblePress);\n  removeStartListeners = pipe(removePointerListener, removeFocusListener);\n  function startAccessiblePress() {\n    const handleKeydown = (keydownEvent) => {\n      if (!isValidKey(keydownEvent)) return;\n      const handleKeyup = (keyupEvent) => {\n        if (!isValidKey(keyupEvent)) return;\n        const evt2 = new win.PointerEvent(\"pointerup\");\n        const info = getInfo(evt2);\n        onPress?.(info);\n        onPressEnd?.(info);\n      };\n      removeEndListeners();\n      removeEndListeners = addDomEvent(keyboardNode, \"keyup\", handleKeyup);\n      const evt = new win.PointerEvent(\"pointerdown\");\n      startPress(evt);\n    };\n    const handleBlur = () => {\n      const evt = new win.PointerEvent(\"pointercancel\");\n      cancelPress(evt);\n    };\n    const removeKeydownListener = addDomEvent(keyboardNode, \"keydown\", handleKeydown);\n    const removeBlurListener = addDomEvent(keyboardNode, \"blur\", handleBlur);\n    removeAccessibleListeners = pipe(removeKeydownListener, removeBlurListener);\n  }\n  return function() {\n    removeStartListeners();\n    removeEndListeners();\n    removeAccessibleListeners();\n  };\n}\n\n// src/track-visual-viewport.ts\nfunction trackVisualViewport(doc, fn) {\n  const win = doc?.defaultView || window;\n  const onResize = () => {\n    fn?.(getViewportSize(win));\n  };\n  onResize();\n  return addDomEvent(win.visualViewport ?? win, \"resize\", onResize);\n}\nfunction getViewportSize(win) {\n  return {\n    width: win.visualViewport?.width || win.innerWidth,\n    height: win.visualViewport?.height || win.innerHeight\n  };\n}\n\nexport { addDomEvent, clickIfLink, fireBlurEvent, fireCustomEvent, getEventKey, getEventPoint, getEventStep, getNativeEvent, getRelativePoint, isContextMenuEvent, isKeyboardClick, isLeftClick, isModifierKey, isPrintableKey, isVirtualClick, isVirtualPointerEvent, queueBeforeEvent, requestPointerLock, trackPointerMove, trackPress, trackVisualViewport };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}