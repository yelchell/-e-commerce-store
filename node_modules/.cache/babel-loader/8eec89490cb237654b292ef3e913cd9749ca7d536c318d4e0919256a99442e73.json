{"ast":null,"code":"import { createAnatomy } from '@zag-js/anatomy';\nimport { getEventStep, isLeftClick, getEventPoint, addDomEvent, requestPointerLock, isModifierKey } from '@zag-js/dom-event';\nimport { createScope, isSafari, MAX_Z_INDEX, dataAttr, ariaAttr, isComposingEvent, observeAttributes, raf } from '@zag-js/dom-query';\nimport { roundToDevicePixel, wrap, isAtMin, isAtMax, isWithinRange, increment, clamp, decrement } from '@zag-js/number-utils';\nimport { createMachine, choose, ref, guards } from '@zag-js/core';\nimport { trackFormControl } from '@zag-js/form-utils';\nimport { compact, callAll, isEqual } from '@zag-js/utils';\nimport { NumberParser } from '@internationalized/number';\n\n// src/number-input.anatomy.ts\nvar anatomy = createAnatomy(\"numberInput\").parts(\"root\", \"label\", \"input\", \"control\", \"valueText\", \"incrementTrigger\", \"decrementTrigger\", \"scrubber\");\nvar parts = anatomy.build();\nvar dom = createScope({\n  getRootId: ctx => ctx.ids?.root ?? `number-input:${ctx.id}`,\n  getInputId: ctx => ctx.ids?.input ?? `number-input:${ctx.id}:input`,\n  getIncrementTriggerId: ctx => ctx.ids?.incrementTrigger ?? `number-input:${ctx.id}:inc`,\n  getDecrementTriggerId: ctx => ctx.ids?.decrementTrigger ?? `number-input:${ctx.id}:dec`,\n  getScrubberId: ctx => ctx.ids?.scrubber ?? `number-input:${ctx.id}:scrubber`,\n  getCursorId: ctx => `number-input:${ctx.id}:cursor`,\n  getLabelId: ctx => ctx.ids?.label ?? `number-input:${ctx.id}:label`,\n  getInputEl: ctx => dom.getById(ctx, dom.getInputId(ctx)),\n  getIncrementTriggerEl: ctx => dom.getById(ctx, dom.getIncrementTriggerId(ctx)),\n  getDecrementTriggerEl: ctx => dom.getById(ctx, dom.getDecrementTriggerId(ctx)),\n  getScrubberEl: ctx => dom.getById(ctx, dom.getScrubberId(ctx)),\n  getCursorEl: ctx => dom.getDoc(ctx).getElementById(dom.getCursorId(ctx)),\n  getPressedTriggerEl: (ctx, hint = ctx.hint) => {\n    let btnEl = null;\n    if (hint === \"increment\") {\n      btnEl = dom.getIncrementTriggerEl(ctx);\n    }\n    if (hint === \"decrement\") {\n      btnEl = dom.getDecrementTriggerEl(ctx);\n    }\n    return btnEl;\n  },\n  setupVirtualCursor(ctx) {\n    if (isSafari()) return;\n    dom.createVirtualCursor(ctx);\n    return () => {\n      dom.getCursorEl(ctx)?.remove();\n    };\n  },\n  preventTextSelection(ctx) {\n    const doc = dom.getDoc(ctx);\n    const html = doc.documentElement;\n    const body = doc.body;\n    body.style.pointerEvents = \"none\";\n    html.style.userSelect = \"none\";\n    html.style.cursor = \"ew-resize\";\n    return () => {\n      body.style.pointerEvents = \"\";\n      html.style.userSelect = \"\";\n      html.style.cursor = \"\";\n      if (!html.style.length) {\n        html.removeAttribute(\"style\");\n      }\n      if (!body.style.length) {\n        body.removeAttribute(\"style\");\n      }\n    };\n  },\n  getMousementValue(ctx, event) {\n    const x = roundToDevicePixel(event.movementX);\n    const y = roundToDevicePixel(event.movementY);\n    let hint = x > 0 ? \"increment\" : x < 0 ? \"decrement\" : null;\n    if (ctx.isRtl && hint === \"increment\") hint = \"decrement\";\n    if (ctx.isRtl && hint === \"decrement\") hint = \"increment\";\n    const point = {\n      x: ctx.scrubberCursorPoint.x + x,\n      y: ctx.scrubberCursorPoint.y + y\n    };\n    const win = dom.getWin(ctx);\n    const width = win.innerWidth;\n    const half = roundToDevicePixel(7.5);\n    point.x = wrap(point.x + half, width) - half;\n    return {\n      hint,\n      point\n    };\n  },\n  createVirtualCursor(ctx) {\n    const doc = dom.getDoc(ctx);\n    const el = doc.createElement(\"div\");\n    el.className = \"scrubber--cursor\";\n    el.id = dom.getCursorId(ctx);\n    Object.assign(el.style, {\n      width: \"15px\",\n      height: \"15px\",\n      position: \"fixed\",\n      pointerEvents: \"none\",\n      left: \"0px\",\n      top: \"0px\",\n      zIndex: MAX_Z_INDEX,\n      transform: ctx.scrubberCursorPoint ? `translate3d(${ctx.scrubberCursorPoint.x}px, ${ctx.scrubberCursorPoint.y}px, 0px)` : void 0,\n      willChange: \"transform\"\n    });\n    el.innerHTML = `\n        <svg width=\"46\" height=\"15\" style=\"left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);\">\n          <g transform=\"translate(2 3)\">\n            <path fill-rule=\"evenodd\" d=\"M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z\" style=\"stroke-width: 2px; stroke: white;\"></path>\n            <path fill-rule=\"evenodd\" d=\"M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z\"></path>\n          </g>\n        </svg>`;\n    doc.body.appendChild(el);\n  }\n});\n\n// src/number-input.connect.ts\nfunction connect(state, send, normalize) {\n  const focused = state.hasTag(\"focus\");\n  const disabled = state.context.isDisabled;\n  const readOnly = state.context.readOnly;\n  const empty = state.context.isValueEmpty;\n  const invalid = state.context.isOutOfRange || !!state.context.invalid;\n  const isIncrementDisabled = disabled || !state.context.canIncrement || readOnly;\n  const isDecrementDisabled = disabled || !state.context.canDecrement || readOnly;\n  const translations = state.context.translations;\n  return {\n    focused,\n    invalid,\n    empty,\n    value: state.context.formattedValue,\n    valueAsNumber: state.context.valueAsNumber,\n    setValue(value) {\n      send({\n        type: \"VALUE.SET\",\n        value\n      });\n    },\n    clearValue() {\n      send(\"VALUE.CLEAR\");\n    },\n    increment() {\n      send(\"VALUE.INCREMENT\");\n    },\n    decrement() {\n      send(\"VALUE.DECREMENT\");\n    },\n    setToMax() {\n      send({\n        type: \"VALUE.SET\",\n        value: state.context.max\n      });\n    },\n    setToMin() {\n      send({\n        type: \"VALUE.SET\",\n        value: state.context.min\n      });\n    },\n    focus() {\n      dom.getInputEl(state.context)?.focus();\n    },\n    getRootProps() {\n      return normalize.element({\n        id: dom.getRootId(state.context),\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-focus\": dataAttr(focused),\n        \"data-invalid\": dataAttr(invalid)\n      });\n    },\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-focus\": dataAttr(focused),\n        \"data-invalid\": dataAttr(invalid),\n        id: dom.getLabelId(state.context),\n        htmlFor: dom.getInputId(state.context)\n      });\n    },\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        dir: state.context.dir,\n        role: \"group\",\n        \"aria-disabled\": disabled,\n        \"data-focus\": dataAttr(focused),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"aria-invalid\": ariaAttr(state.context.invalid)\n      });\n    },\n    getValueTextProps() {\n      return normalize.element({\n        ...parts.valueText.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-focus\": dataAttr(focused)\n      });\n    },\n    getInputProps() {\n      return normalize.input({\n        ...parts.input.attrs,\n        dir: state.context.dir,\n        name: state.context.name,\n        form: state.context.form,\n        id: dom.getInputId(state.context),\n        role: \"spinbutton\",\n        defaultValue: state.context.formattedValue,\n        pattern: state.context.pattern,\n        inputMode: state.context.inputMode,\n        \"aria-invalid\": ariaAttr(invalid),\n        \"data-invalid\": dataAttr(invalid),\n        disabled,\n        \"data-disabled\": dataAttr(disabled),\n        readOnly: state.context.readOnly,\n        required: state.context.required,\n        autoComplete: \"off\",\n        autoCorrect: \"off\",\n        spellCheck: \"false\",\n        type: \"text\",\n        \"aria-roledescription\": \"numberfield\",\n        \"aria-valuemin\": state.context.min,\n        \"aria-valuemax\": state.context.max,\n        \"aria-valuenow\": Number.isNaN(state.context.valueAsNumber) ? void 0 : state.context.valueAsNumber,\n        \"aria-valuetext\": state.context.valueText,\n        onFocus() {\n          send(\"INPUT.FOCUS\");\n        },\n        onBlur() {\n          send(\"INPUT.BLUR\");\n        },\n        onChange(event) {\n          send({\n            type: \"INPUT.CHANGE\",\n            target: event.currentTarget,\n            hint: \"set\"\n          });\n        },\n        onBeforeInput(event) {\n          try {\n            const {\n              selectionStart,\n              selectionEnd,\n              value\n            } = event.currentTarget;\n            const nextValue = value.slice(0, selectionStart) + (event.data ?? \"\") + value.slice(selectionEnd);\n            const isValid = state.context.parser.isValidPartialNumber(nextValue);\n            if (!isValid) {\n              event.preventDefault();\n            }\n          } catch {}\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (readOnly) return;\n          if (isComposingEvent(event)) return;\n          const step = getEventStep(event) * state.context.step;\n          const keyMap = {\n            ArrowUp() {\n              send({\n                type: \"INPUT.ARROW_UP\",\n                step\n              });\n              event.preventDefault();\n            },\n            ArrowDown() {\n              send({\n                type: \"INPUT.ARROW_DOWN\",\n                step\n              });\n              event.preventDefault();\n            },\n            Home() {\n              if (isModifierKey(event)) return;\n              send(\"INPUT.HOME\");\n              event.preventDefault();\n            },\n            End() {\n              if (isModifierKey(event)) return;\n              send(\"INPUT.END\");\n              event.preventDefault();\n            },\n            Enter() {\n              send(\"INPUT.ENTER\");\n            }\n          };\n          const exec = keyMap[event.key];\n          exec?.(event);\n        }\n      });\n    },\n    getDecrementTriggerProps() {\n      return normalize.button({\n        ...parts.decrementTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getDecrementTriggerId(state.context),\n        disabled: isDecrementDisabled,\n        \"data-disabled\": dataAttr(isDecrementDisabled),\n        \"aria-label\": translations.decrementLabel,\n        type: \"button\",\n        tabIndex: -1,\n        \"aria-controls\": dom.getInputId(state.context),\n        onPointerDown(event) {\n          if (isDecrementDisabled || !isLeftClick(event)) return;\n          send({\n            type: \"TRIGGER.PRESS_DOWN\",\n            hint: \"decrement\",\n            pointerType: event.pointerType\n          });\n          if (event.pointerType === \"mouse\") {\n            event.preventDefault();\n          }\n          if (event.pointerType === \"touch\") {\n            event.currentTarget?.focus({\n              preventScroll: true\n            });\n          }\n        },\n        onPointerUp(event) {\n          send({\n            type: \"TRIGGER.PRESS_UP\",\n            hint: \"decrement\",\n            pointerType: event.pointerType\n          });\n        },\n        onPointerLeave() {\n          if (isDecrementDisabled) return;\n          send({\n            type: \"TRIGGER.PRESS_UP\",\n            hint: \"decrement\"\n          });\n        }\n      });\n    },\n    getIncrementTriggerProps() {\n      return normalize.button({\n        ...parts.incrementTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getIncrementTriggerId(state.context),\n        disabled: isIncrementDisabled,\n        \"data-disabled\": dataAttr(isIncrementDisabled),\n        \"aria-label\": translations.incrementLabel,\n        type: \"button\",\n        tabIndex: -1,\n        \"aria-controls\": dom.getInputId(state.context),\n        onPointerDown(event) {\n          if (isIncrementDisabled || !isLeftClick(event)) return;\n          send({\n            type: \"TRIGGER.PRESS_DOWN\",\n            hint: \"increment\",\n            pointerType: event.pointerType\n          });\n          if (event.pointerType === \"mouse\") {\n            event.preventDefault();\n          }\n          if (event.pointerType === \"touch\") {\n            event.currentTarget?.focus({\n              preventScroll: true\n            });\n          }\n        },\n        onPointerUp(event) {\n          send({\n            type: \"TRIGGER.PRESS_UP\",\n            hint: \"increment\",\n            pointerType: event.pointerType\n          });\n        },\n        onPointerLeave(event) {\n          send({\n            type: \"TRIGGER.PRESS_UP\",\n            hint: \"increment\",\n            pointerType: event.pointerType\n          });\n        }\n      });\n    },\n    getScrubberProps() {\n      return normalize.element({\n        ...parts.scrubber.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        id: dom.getScrubberId(state.context),\n        role: \"presentation\",\n        onMouseDown(event) {\n          if (disabled) return;\n          const point = getEventPoint(event);\n          point.x = point.x - roundToDevicePixel(7.5);\n          point.y = point.y - roundToDevicePixel(7.5);\n          send({\n            type: \"SCRUBBER.PRESS_DOWN\",\n            point\n          });\n          event.preventDefault();\n        },\n        style: {\n          cursor: disabled ? void 0 : \"ew-resize\"\n        }\n      });\n    }\n  };\n}\n\n// src/cursor.ts\nfunction recordCursor(inputEl) {\n  if (inputEl.ownerDocument.activeElement !== inputEl) return;\n  try {\n    const {\n      selectionStart: start,\n      selectionEnd: end,\n      value\n    } = inputEl;\n    const beforeTxt = value.substring(0, start);\n    const afterTxt = value.substring(end);\n    return {\n      start,\n      end,\n      value,\n      beforeTxt,\n      afterTxt\n    };\n  } catch {}\n}\nfunction restoreCursor(inputEl, selection) {\n  if (inputEl.ownerDocument.activeElement !== inputEl) return;\n  if (!selection) {\n    inputEl.setSelectionRange(inputEl.value.length, inputEl.value.length);\n    return;\n  }\n  try {\n    const {\n      value\n    } = inputEl;\n    const {\n      beforeTxt = \"\",\n      afterTxt = \"\",\n      start\n    } = selection;\n    let startPos = value.length;\n    if (value.endsWith(afterTxt)) {\n      startPos = value.length - afterTxt.length;\n    } else if (value.startsWith(beforeTxt)) {\n      startPos = beforeTxt.length;\n    } else if (start != null) {\n      const beforeLastChar = beforeTxt[start - 1];\n      const newIndex = value.indexOf(beforeLastChar, start - 1);\n      if (newIndex !== -1) {\n        startPos = newIndex + 1;\n      }\n    }\n    inputEl.setSelectionRange(startPos, startPos);\n  } catch {}\n}\nvar createFormatter = (locale, options = {}) => {\n  return ref(new Intl.NumberFormat(locale, options));\n};\nvar createParser = (locale, options = {}) => {\n  return ref(new NumberParser(locale, options));\n};\nvar parseValue = (ctx, value) => {\n  if (!ctx.formatOptions) return parseFloat(value);\n  return ctx.parser.parse(String(value));\n};\nvar formatValue = (ctx, value) => {\n  if (Number.isNaN(value)) return \"\";\n  if (!ctx.formatOptions) return value.toString();\n  return ctx.formatter.format(value);\n};\n\n// src/number-input.machine.ts\nvar {\n  not,\n  and\n} = guards;\nfunction machine(userContext) {\n  const ctx = compact(userContext);\n  return createMachine({\n    id: \"number-input\",\n    initial: \"idle\",\n    context: {\n      dir: \"ltr\",\n      locale: \"en-US\",\n      focusInputOnChange: true,\n      clampValueOnBlur: true,\n      allowOverflow: false,\n      inputMode: \"decimal\",\n      pattern: \"[0-9]*(.[0-9]+)?\",\n      value: \"\",\n      step: 1,\n      min: Number.MIN_SAFE_INTEGER,\n      max: Number.MAX_SAFE_INTEGER,\n      invalid: false,\n      spinOnPress: true,\n      disabled: false,\n      readOnly: false,\n      ...ctx,\n      hint: null,\n      scrubberCursorPoint: null,\n      fieldsetDisabled: false,\n      formatter: createFormatter(ctx.locale || \"en-US\", ctx.formatOptions),\n      parser: createParser(ctx.locale || \"en-US\", ctx.formatOptions),\n      translations: {\n        incrementLabel: \"increment value\",\n        decrementLabel: \"decrease value\",\n        ...ctx.translations\n      }\n    },\n    computed: {\n      isRtl: ctx2 => ctx2.dir === \"rtl\",\n      valueAsNumber: ctx2 => parseValue(ctx2, ctx2.value),\n      formattedValue: ctx2 => formatValue(ctx2, ctx2.valueAsNumber),\n      isAtMin: ctx2 => isAtMin(ctx2.valueAsNumber, ctx2),\n      isAtMax: ctx2 => isAtMax(ctx2.valueAsNumber, ctx2),\n      isOutOfRange: ctx2 => !isWithinRange(ctx2.valueAsNumber, ctx2),\n      isValueEmpty: ctx2 => ctx2.value === \"\",\n      isDisabled: ctx2 => !!ctx2.disabled || ctx2.fieldsetDisabled,\n      canIncrement: ctx2 => ctx2.allowOverflow || !ctx2.isAtMax,\n      canDecrement: ctx2 => ctx2.allowOverflow || !ctx2.isAtMin,\n      valueText: ctx2 => ctx2.translations.valueText?.(ctx2.value)\n    },\n    watch: {\n      formatOptions: [\"setFormatterAndParser\", \"syncInputElement\"],\n      locale: [\"setFormatterAndParser\", \"syncInputElement\"],\n      value: [\"syncInputElement\"],\n      isOutOfRange: [\"invokeOnInvalid\"],\n      scrubberCursorPoint: [\"setVirtualCursorPosition\"]\n    },\n    activities: [\"trackFormControl\"],\n    on: {\n      \"VALUE.SET\": {\n        actions: [\"setRawValue\", \"setHintToSet\"]\n      },\n      \"VALUE.CLEAR\": {\n        actions: [\"clearValue\"]\n      },\n      \"VALUE.INCREMENT\": {\n        actions: [\"increment\"]\n      },\n      \"VALUE.DECREMENT\": {\n        actions: [\"decrement\"]\n      }\n    },\n    states: {\n      idle: {\n        on: {\n          \"TRIGGER.PRESS_DOWN\": [{\n            guard: \"isTouchPointer\",\n            target: \"before:spin\",\n            actions: [\"setHint\"]\n          }, {\n            target: \"before:spin\",\n            actions: [\"focusInput\", \"invokeOnFocus\", \"setHint\"]\n          }],\n          \"SCRUBBER.PRESS_DOWN\": {\n            target: \"scrubbing\",\n            actions: [\"focusInput\", \"invokeOnFocus\", \"setHint\", \"setCursorPoint\"]\n          },\n          \"INPUT.FOCUS\": {\n            target: \"focused\",\n            actions: [\"focusInput\", \"invokeOnFocus\"]\n          }\n        }\n      },\n      focused: {\n        tags: \"focus\",\n        activities: \"attachWheelListener\",\n        on: {\n          \"TRIGGER.PRESS_DOWN\": [{\n            guard: \"isTouchPointer\",\n            target: \"before:spin\",\n            actions: [\"setHint\"]\n          }, {\n            target: \"before:spin\",\n            actions: [\"focusInput\", \"setHint\"]\n          }],\n          \"SCRUBBER.PRESS_DOWN\": {\n            target: \"scrubbing\",\n            actions: [\"focusInput\", \"setHint\", \"setCursorPoint\"]\n          },\n          \"INPUT.ARROW_UP\": {\n            actions: \"increment\"\n          },\n          \"INPUT.ARROW_DOWN\": {\n            actions: \"decrement\"\n          },\n          \"INPUT.HOME\": {\n            actions: \"decrementToMin\"\n          },\n          \"INPUT.END\": {\n            actions: \"incrementToMax\"\n          },\n          \"INPUT.CHANGE\": {\n            actions: [\"setValue\", \"setHint\"]\n          },\n          \"INPUT.BLUR\": [{\n            guard: and(\"clampValueOnBlur\", not(\"isInRange\")),\n            target: \"idle\",\n            actions: [\"setClampedValue\", \"clearHint\", \"invokeOnBlur\"]\n          }, {\n            target: \"idle\",\n            actions: [\"setFormattedValue\", \"clearHint\", \"invokeOnBlur\"]\n          }],\n          \"INPUT.ENTER\": {\n            actions: [\"setFormattedValue\", \"clearHint\", \"invokeOnBlur\"]\n          }\n        }\n      },\n      \"before:spin\": {\n        tags: \"focus\",\n        activities: \"trackButtonDisabled\",\n        entry: choose([{\n          guard: \"isIncrementHint\",\n          actions: \"increment\"\n        }, {\n          guard: \"isDecrementHint\",\n          actions: \"decrement\"\n        }]),\n        after: {\n          CHANGE_DELAY: {\n            target: \"spinning\",\n            guard: and(\"isInRange\", \"spinOnPress\")\n          }\n        },\n        on: {\n          \"TRIGGER.PRESS_UP\": [{\n            guard: \"isTouchPointer\",\n            target: \"focused\",\n            actions: \"clearHint\"\n          }, {\n            target: \"focused\",\n            actions: [\"focusInput\", \"clearHint\"]\n          }]\n        }\n      },\n      spinning: {\n        tags: \"focus\",\n        activities: \"trackButtonDisabled\",\n        every: [{\n          delay: \"CHANGE_INTERVAL\",\n          guard: and(not(\"isAtMin\"), \"isIncrementHint\"),\n          actions: \"increment\"\n        }, {\n          delay: \"CHANGE_INTERVAL\",\n          guard: and(not(\"isAtMax\"), \"isDecrementHint\"),\n          actions: \"decrement\"\n        }],\n        on: {\n          \"TRIGGER.PRESS_UP\": {\n            target: \"focused\",\n            actions: [\"focusInput\", \"clearHint\"]\n          }\n        }\n      },\n      scrubbing: {\n        tags: \"focus\",\n        activities: [\"activatePointerLock\", \"trackMousemove\", \"setupVirtualCursor\", \"preventTextSelection\"],\n        on: {\n          \"SCRUBBER.POINTER_UP\": {\n            target: \"focused\",\n            actions: [\"focusInput\", \"clearCursorPoint\"]\n          },\n          \"SCRUBBER.POINTER_MOVE\": [{\n            guard: \"isIncrementHint\",\n            actions: [\"increment\", \"setCursorPoint\"]\n          }, {\n            guard: \"isDecrementHint\",\n            actions: [\"decrement\", \"setCursorPoint\"]\n          }]\n        }\n      }\n    }\n  }, {\n    delays: {\n      CHANGE_INTERVAL: 50,\n      CHANGE_DELAY: 300\n    },\n    guards: {\n      clampValueOnBlur: ctx2 => ctx2.clampValueOnBlur,\n      isAtMin: ctx2 => ctx2.isAtMin,\n      spinOnPress: ctx2 => !!ctx2.spinOnPress,\n      isAtMax: ctx2 => ctx2.isAtMax,\n      isInRange: ctx2 => !ctx2.isOutOfRange,\n      isDecrementHint: (ctx2, evt) => (evt.hint ?? ctx2.hint) === \"decrement\",\n      isIncrementHint: (ctx2, evt) => (evt.hint ?? ctx2.hint) === \"increment\",\n      isTouchPointer: (_ctx, evt) => evt.pointerType === \"touch\"\n    },\n    activities: {\n      trackFormControl(ctx2, _evt, {\n        initialContext\n      }) {\n        const inputEl = dom.getInputEl(ctx2);\n        return trackFormControl(inputEl, {\n          onFieldsetDisabledChange(disabled) {\n            ctx2.fieldsetDisabled = disabled;\n          },\n          onFormReset() {\n            set.value(ctx2, initialContext.value);\n          }\n        });\n      },\n      setupVirtualCursor(ctx2) {\n        return dom.setupVirtualCursor(ctx2);\n      },\n      preventTextSelection(ctx2) {\n        return dom.preventTextSelection(ctx2);\n      },\n      trackButtonDisabled(ctx2, _evt, {\n        send\n      }) {\n        const btn = dom.getPressedTriggerEl(ctx2, ctx2.hint);\n        return observeAttributes(btn, {\n          attributes: [\"disabled\"],\n          callback() {\n            send({\n              type: \"TRIGGER.PRESS_UP\",\n              src: \"attr\"\n            });\n          }\n        });\n      },\n      attachWheelListener(ctx2, _evt, {\n        send\n      }) {\n        const inputEl = dom.getInputEl(ctx2);\n        if (!inputEl || !dom.isActiveElement(ctx2, inputEl) || !ctx2.allowMouseWheel) return;\n        function onWheel(event) {\n          event.preventDefault();\n          const dir = Math.sign(event.deltaY) * -1;\n          if (dir === 1) {\n            send(\"VALUE.INCREMENT\");\n          } else if (dir === -1) {\n            send(\"VALUE.DECREMENT\");\n          }\n        }\n        return addDomEvent(inputEl, \"wheel\", onWheel, {\n          passive: false\n        });\n      },\n      activatePointerLock(ctx2) {\n        if (isSafari()) return;\n        return requestPointerLock(dom.getDoc(ctx2));\n      },\n      trackMousemove(ctx2, _evt, {\n        send\n      }) {\n        const doc = dom.getDoc(ctx2);\n        function onMousemove(event) {\n          if (!ctx2.scrubberCursorPoint) return;\n          const value = dom.getMousementValue(ctx2, event);\n          if (!value.hint) return;\n          send({\n            type: \"SCRUBBER.POINTER_MOVE\",\n            hint: value.hint,\n            point: value.point\n          });\n        }\n        function onMouseup() {\n          send(\"SCRUBBER.POINTER_UP\");\n        }\n        return callAll(addDomEvent(doc, \"mousemove\", onMousemove, false), addDomEvent(doc, \"mouseup\", onMouseup, false));\n      }\n    },\n    actions: {\n      focusInput(ctx2) {\n        if (!ctx2.focusInputOnChange) return;\n        const inputEl = dom.getInputEl(ctx2);\n        if (dom.isActiveElement(ctx2, inputEl)) return;\n        raf(() => inputEl?.focus({\n          preventScroll: true\n        }));\n      },\n      increment(ctx2, evt) {\n        const nextValue = increment(ctx2.valueAsNumber, evt.step ?? ctx2.step);\n        const value = formatValue(ctx2, clamp(nextValue, ctx2));\n        set.value(ctx2, value);\n      },\n      decrement(ctx2, evt) {\n        const nextValue = decrement(ctx2.valueAsNumber, evt.step ?? ctx2.step);\n        const value = formatValue(ctx2, clamp(nextValue, ctx2));\n        set.value(ctx2, value);\n      },\n      setClampedValue(ctx2) {\n        const nextValue = clamp(ctx2.valueAsNumber, ctx2);\n        set.value(ctx2, formatValue(ctx2, nextValue));\n      },\n      setRawValue(ctx2, evt) {\n        const parsedValue = parseValue(ctx2, evt.value);\n        const value = formatValue(ctx2, clamp(parsedValue, ctx2));\n        set.value(ctx2, value);\n      },\n      setValue(ctx2, evt) {\n        const value = evt.target?.value ?? evt.value;\n        set.value(ctx2, value);\n      },\n      clearValue(ctx2) {\n        set.value(ctx2, \"\");\n      },\n      incrementToMax(ctx2) {\n        const value = formatValue(ctx2, ctx2.max);\n        set.value(ctx2, value);\n      },\n      decrementToMin(ctx2) {\n        const value = formatValue(ctx2, ctx2.min);\n        set.value(ctx2, value);\n      },\n      setHint(ctx2, evt) {\n        ctx2.hint = evt.hint;\n      },\n      clearHint(ctx2) {\n        ctx2.hint = null;\n      },\n      setHintToSet(ctx2) {\n        ctx2.hint = \"set\";\n      },\n      invokeOnFocus(ctx2) {\n        ctx2.onFocusChange?.({\n          focused: true,\n          value: ctx2.formattedValue,\n          valueAsNumber: ctx2.valueAsNumber\n        });\n      },\n      invokeOnBlur(ctx2) {\n        ctx2.onFocusChange?.({\n          focused: false,\n          value: ctx2.formattedValue,\n          valueAsNumber: ctx2.valueAsNumber\n        });\n      },\n      invokeOnInvalid(ctx2) {\n        if (!ctx2.isOutOfRange) return;\n        const reason = ctx2.valueAsNumber > ctx2.max ? \"rangeOverflow\" : \"rangeUnderflow\";\n        ctx2.onValueInvalid?.({\n          reason,\n          value: ctx2.formattedValue,\n          valueAsNumber: ctx2.valueAsNumber\n        });\n      },\n      syncInputElement(ctx2, evt) {\n        const value = evt.type.endsWith(\"CHANGE\") ? ctx2.value : ctx2.formattedValue;\n        sync.input(ctx2, value);\n      },\n      setFormattedValue(ctx2) {\n        set.value(ctx2, ctx2.formattedValue);\n      },\n      setCursorPoint(ctx2, evt) {\n        ctx2.scrubberCursorPoint = evt.point;\n      },\n      clearCursorPoint(ctx2) {\n        ctx2.scrubberCursorPoint = null;\n      },\n      setVirtualCursorPosition(ctx2) {\n        const cursorEl = dom.getCursorEl(ctx2);\n        if (!cursorEl || !ctx2.scrubberCursorPoint) return;\n        const {\n          x,\n          y\n        } = ctx2.scrubberCursorPoint;\n        cursorEl.style.transform = `translate3d(${x}px, ${y}px, 0px)`;\n      },\n      setFormatterAndParser(ctx2) {\n        if (!ctx2.locale) return;\n        ctx2.formatter = createFormatter(ctx2.locale, ctx2.formatOptions);\n        ctx2.parser = createParser(ctx2.locale, ctx2.formatOptions);\n      }\n    },\n    compareFns: {\n      formatOptions: (a, b) => isEqual(a, b),\n      scrubberCursorPoint: (a, b) => isEqual(a, b)\n    }\n  });\n}\nvar sync = {\n  input(ctx, value) {\n    const inputEl = dom.getInputEl(ctx);\n    if (!inputEl) return;\n    const sel = recordCursor(inputEl);\n    raf(() => {\n      dom.setValue(inputEl, value);\n      restoreCursor(inputEl, sel);\n    });\n  }\n};\nvar invoke = {\n  onChange: ctx => {\n    ctx.onValueChange?.({\n      value: ctx.value,\n      valueAsNumber: ctx.valueAsNumber\n    });\n  }\n};\nvar set = {\n  value: (ctx, value) => {\n    if (isEqual(ctx.value, value)) return;\n    ctx.value = value;\n    invoke.onChange(ctx);\n  }\n};\nexport { anatomy, connect, machine };","map":{"version":3,"names":["createAnatomy","getEventStep","isLeftClick","getEventPoint","addDomEvent","requestPointerLock","isModifierKey","createScope","isSafari","MAX_Z_INDEX","dataAttr","ariaAttr","isComposingEvent","observeAttributes","raf","roundToDevicePixel","wrap","isAtMin","isAtMax","isWithinRange","increment","clamp","decrement","createMachine","choose","ref","guards","trackFormControl","compact","callAll","isEqual","NumberParser","anatomy","parts","build","dom","getRootId","ctx","ids","root","id","getInputId","input","getIncrementTriggerId","incrementTrigger","getDecrementTriggerId","decrementTrigger","getScrubberId","scrubber","getCursorId","getLabelId","label","getInputEl","getById","getIncrementTriggerEl","getDecrementTriggerEl","getScrubberEl","getCursorEl","getDoc","getElementById","getPressedTriggerEl","hint","btnEl","setupVirtualCursor","createVirtualCursor","remove","preventTextSelection","doc","html","documentElement","body","style","pointerEvents","userSelect","cursor","length","removeAttribute","getMousementValue","event","x","movementX","y","movementY","isRtl","point","scrubberCursorPoint","win","getWin","width","innerWidth","half","el","createElement","className","Object","assign","height","position","left","top","zIndex","transform","willChange","innerHTML","appendChild","connect","state","send","normalize","focused","hasTag","disabled","context","isDisabled","readOnly","empty","isValueEmpty","invalid","isOutOfRange","isIncrementDisabled","canIncrement","isDecrementDisabled","canDecrement","translations","value","formattedValue","valueAsNumber","setValue","type","clearValue","setToMax","max","setToMin","min","focus","getRootProps","element","attrs","dir","getLabelProps","htmlFor","getControlProps","control","role","getValueTextProps","valueText","getInputProps","name","form","defaultValue","pattern","inputMode","required","autoComplete","autoCorrect","spellCheck","Number","isNaN","onFocus","onBlur","onChange","target","currentTarget","onBeforeInput","selectionStart","selectionEnd","nextValue","slice","data","isValid","parser","isValidPartialNumber","preventDefault","onKeyDown","defaultPrevented","step","keyMap","ArrowUp","ArrowDown","Home","End","Enter","exec","key","getDecrementTriggerProps","button","decrementLabel","tabIndex","onPointerDown","pointerType","preventScroll","onPointerUp","onPointerLeave","getIncrementTriggerProps","incrementLabel","getScrubberProps","onMouseDown","recordCursor","inputEl","ownerDocument","activeElement","start","end","beforeTxt","substring","afterTxt","restoreCursor","selection","setSelectionRange","startPos","endsWith","startsWith","beforeLastChar","newIndex","indexOf","createFormatter","locale","options","Intl","NumberFormat","createParser","parseValue","formatOptions","parseFloat","parse","String","formatValue","toString","formatter","format","not","and","machine","userContext","initial","focusInputOnChange","clampValueOnBlur","allowOverflow","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","spinOnPress","fieldsetDisabled","computed","ctx2","watch","activities","on","actions","states","idle","guard","tags","entry","after","CHANGE_DELAY","spinning","every","delay","scrubbing","delays","CHANGE_INTERVAL","isInRange","isDecrementHint","evt","isIncrementHint","isTouchPointer","_ctx","_evt","initialContext","onFieldsetDisabledChange","onFormReset","set","trackButtonDisabled","btn","attributes","callback","src","attachWheelListener","isActiveElement","allowMouseWheel","onWheel","Math","sign","deltaY","passive","activatePointerLock","trackMousemove","onMousemove","onMouseup","focusInput","setClampedValue","setRawValue","parsedValue","incrementToMax","decrementToMin","setHint","clearHint","setHintToSet","invokeOnFocus","onFocusChange","invokeOnBlur","invokeOnInvalid","reason","onValueInvalid","syncInputElement","sync","setFormattedValue","setCursorPoint","clearCursorPoint","setVirtualCursorPosition","cursorEl","setFormatterAndParser","compareFns","a","b","sel","invoke","onValueChange"],"sources":["D:/assignment/e_commerce/ecommerce-product-page/node_modules/@zag-js/number-input/dist/index.mjs"],"sourcesContent":["import { createAnatomy } from '@zag-js/anatomy';\nimport { getEventStep, isLeftClick, getEventPoint, addDomEvent, requestPointerLock, isModifierKey } from '@zag-js/dom-event';\nimport { createScope, isSafari, MAX_Z_INDEX, dataAttr, ariaAttr, isComposingEvent, observeAttributes, raf } from '@zag-js/dom-query';\nimport { roundToDevicePixel, wrap, isAtMin, isAtMax, isWithinRange, increment, clamp, decrement } from '@zag-js/number-utils';\nimport { createMachine, choose, ref, guards } from '@zag-js/core';\nimport { trackFormControl } from '@zag-js/form-utils';\nimport { compact, callAll, isEqual } from '@zag-js/utils';\nimport { NumberParser } from '@internationalized/number';\n\n// src/number-input.anatomy.ts\nvar anatomy = createAnatomy(\"numberInput\").parts(\n  \"root\",\n  \"label\",\n  \"input\",\n  \"control\",\n  \"valueText\",\n  \"incrementTrigger\",\n  \"decrementTrigger\",\n  \"scrubber\"\n);\nvar parts = anatomy.build();\nvar dom = createScope({\n  getRootId: (ctx) => ctx.ids?.root ?? `number-input:${ctx.id}`,\n  getInputId: (ctx) => ctx.ids?.input ?? `number-input:${ctx.id}:input`,\n  getIncrementTriggerId: (ctx) => ctx.ids?.incrementTrigger ?? `number-input:${ctx.id}:inc`,\n  getDecrementTriggerId: (ctx) => ctx.ids?.decrementTrigger ?? `number-input:${ctx.id}:dec`,\n  getScrubberId: (ctx) => ctx.ids?.scrubber ?? `number-input:${ctx.id}:scrubber`,\n  getCursorId: (ctx) => `number-input:${ctx.id}:cursor`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `number-input:${ctx.id}:label`,\n  getInputEl: (ctx) => dom.getById(ctx, dom.getInputId(ctx)),\n  getIncrementTriggerEl: (ctx) => dom.getById(ctx, dom.getIncrementTriggerId(ctx)),\n  getDecrementTriggerEl: (ctx) => dom.getById(ctx, dom.getDecrementTriggerId(ctx)),\n  getScrubberEl: (ctx) => dom.getById(ctx, dom.getScrubberId(ctx)),\n  getCursorEl: (ctx) => dom.getDoc(ctx).getElementById(dom.getCursorId(ctx)),\n  getPressedTriggerEl: (ctx, hint = ctx.hint) => {\n    let btnEl = null;\n    if (hint === \"increment\") {\n      btnEl = dom.getIncrementTriggerEl(ctx);\n    }\n    if (hint === \"decrement\") {\n      btnEl = dom.getDecrementTriggerEl(ctx);\n    }\n    return btnEl;\n  },\n  setupVirtualCursor(ctx) {\n    if (isSafari()) return;\n    dom.createVirtualCursor(ctx);\n    return () => {\n      dom.getCursorEl(ctx)?.remove();\n    };\n  },\n  preventTextSelection(ctx) {\n    const doc = dom.getDoc(ctx);\n    const html = doc.documentElement;\n    const body = doc.body;\n    body.style.pointerEvents = \"none\";\n    html.style.userSelect = \"none\";\n    html.style.cursor = \"ew-resize\";\n    return () => {\n      body.style.pointerEvents = \"\";\n      html.style.userSelect = \"\";\n      html.style.cursor = \"\";\n      if (!html.style.length) {\n        html.removeAttribute(\"style\");\n      }\n      if (!body.style.length) {\n        body.removeAttribute(\"style\");\n      }\n    };\n  },\n  getMousementValue(ctx, event) {\n    const x = roundToDevicePixel(event.movementX);\n    const y = roundToDevicePixel(event.movementY);\n    let hint = x > 0 ? \"increment\" : x < 0 ? \"decrement\" : null;\n    if (ctx.isRtl && hint === \"increment\") hint = \"decrement\";\n    if (ctx.isRtl && hint === \"decrement\") hint = \"increment\";\n    const point = {\n      x: ctx.scrubberCursorPoint.x + x,\n      y: ctx.scrubberCursorPoint.y + y\n    };\n    const win = dom.getWin(ctx);\n    const width = win.innerWidth;\n    const half = roundToDevicePixel(7.5);\n    point.x = wrap(point.x + half, width) - half;\n    return { hint, point };\n  },\n  createVirtualCursor(ctx) {\n    const doc = dom.getDoc(ctx);\n    const el = doc.createElement(\"div\");\n    el.className = \"scrubber--cursor\";\n    el.id = dom.getCursorId(ctx);\n    Object.assign(el.style, {\n      width: \"15px\",\n      height: \"15px\",\n      position: \"fixed\",\n      pointerEvents: \"none\",\n      left: \"0px\",\n      top: \"0px\",\n      zIndex: MAX_Z_INDEX,\n      transform: ctx.scrubberCursorPoint ? `translate3d(${ctx.scrubberCursorPoint.x}px, ${ctx.scrubberCursorPoint.y}px, 0px)` : void 0,\n      willChange: \"transform\"\n    });\n    el.innerHTML = `\n        <svg width=\"46\" height=\"15\" style=\"left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);\">\n          <g transform=\"translate(2 3)\">\n            <path fill-rule=\"evenodd\" d=\"M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z\" style=\"stroke-width: 2px; stroke: white;\"></path>\n            <path fill-rule=\"evenodd\" d=\"M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z\"></path>\n          </g>\n        </svg>`;\n    doc.body.appendChild(el);\n  }\n});\n\n// src/number-input.connect.ts\nfunction connect(state, send, normalize) {\n  const focused = state.hasTag(\"focus\");\n  const disabled = state.context.isDisabled;\n  const readOnly = state.context.readOnly;\n  const empty = state.context.isValueEmpty;\n  const invalid = state.context.isOutOfRange || !!state.context.invalid;\n  const isIncrementDisabled = disabled || !state.context.canIncrement || readOnly;\n  const isDecrementDisabled = disabled || !state.context.canDecrement || readOnly;\n  const translations = state.context.translations;\n  return {\n    focused,\n    invalid,\n    empty,\n    value: state.context.formattedValue,\n    valueAsNumber: state.context.valueAsNumber,\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value });\n    },\n    clearValue() {\n      send(\"VALUE.CLEAR\");\n    },\n    increment() {\n      send(\"VALUE.INCREMENT\");\n    },\n    decrement() {\n      send(\"VALUE.DECREMENT\");\n    },\n    setToMax() {\n      send({ type: \"VALUE.SET\", value: state.context.max });\n    },\n    setToMin() {\n      send({ type: \"VALUE.SET\", value: state.context.min });\n    },\n    focus() {\n      dom.getInputEl(state.context)?.focus();\n    },\n    getRootProps() {\n      return normalize.element({\n        id: dom.getRootId(state.context),\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-focus\": dataAttr(focused),\n        \"data-invalid\": dataAttr(invalid)\n      });\n    },\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-focus\": dataAttr(focused),\n        \"data-invalid\": dataAttr(invalid),\n        id: dom.getLabelId(state.context),\n        htmlFor: dom.getInputId(state.context)\n      });\n    },\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        dir: state.context.dir,\n        role: \"group\",\n        \"aria-disabled\": disabled,\n        \"data-focus\": dataAttr(focused),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"aria-invalid\": ariaAttr(state.context.invalid)\n      });\n    },\n    getValueTextProps() {\n      return normalize.element({\n        ...parts.valueText.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-focus\": dataAttr(focused)\n      });\n    },\n    getInputProps() {\n      return normalize.input({\n        ...parts.input.attrs,\n        dir: state.context.dir,\n        name: state.context.name,\n        form: state.context.form,\n        id: dom.getInputId(state.context),\n        role: \"spinbutton\",\n        defaultValue: state.context.formattedValue,\n        pattern: state.context.pattern,\n        inputMode: state.context.inputMode,\n        \"aria-invalid\": ariaAttr(invalid),\n        \"data-invalid\": dataAttr(invalid),\n        disabled,\n        \"data-disabled\": dataAttr(disabled),\n        readOnly: state.context.readOnly,\n        required: state.context.required,\n        autoComplete: \"off\",\n        autoCorrect: \"off\",\n        spellCheck: \"false\",\n        type: \"text\",\n        \"aria-roledescription\": \"numberfield\",\n        \"aria-valuemin\": state.context.min,\n        \"aria-valuemax\": state.context.max,\n        \"aria-valuenow\": Number.isNaN(state.context.valueAsNumber) ? void 0 : state.context.valueAsNumber,\n        \"aria-valuetext\": state.context.valueText,\n        onFocus() {\n          send(\"INPUT.FOCUS\");\n        },\n        onBlur() {\n          send(\"INPUT.BLUR\");\n        },\n        onChange(event) {\n          send({ type: \"INPUT.CHANGE\", target: event.currentTarget, hint: \"set\" });\n        },\n        onBeforeInput(event) {\n          try {\n            const { selectionStart, selectionEnd, value } = event.currentTarget;\n            const nextValue = value.slice(0, selectionStart) + (event.data ?? \"\") + value.slice(selectionEnd);\n            const isValid = state.context.parser.isValidPartialNumber(nextValue);\n            if (!isValid) {\n              event.preventDefault();\n            }\n          } catch {\n          }\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (readOnly) return;\n          if (isComposingEvent(event)) return;\n          const step = getEventStep(event) * state.context.step;\n          const keyMap = {\n            ArrowUp() {\n              send({ type: \"INPUT.ARROW_UP\", step });\n              event.preventDefault();\n            },\n            ArrowDown() {\n              send({ type: \"INPUT.ARROW_DOWN\", step });\n              event.preventDefault();\n            },\n            Home() {\n              if (isModifierKey(event)) return;\n              send(\"INPUT.HOME\");\n              event.preventDefault();\n            },\n            End() {\n              if (isModifierKey(event)) return;\n              send(\"INPUT.END\");\n              event.preventDefault();\n            },\n            Enter() {\n              send(\"INPUT.ENTER\");\n            }\n          };\n          const exec = keyMap[event.key];\n          exec?.(event);\n        }\n      });\n    },\n    getDecrementTriggerProps() {\n      return normalize.button({\n        ...parts.decrementTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getDecrementTriggerId(state.context),\n        disabled: isDecrementDisabled,\n        \"data-disabled\": dataAttr(isDecrementDisabled),\n        \"aria-label\": translations.decrementLabel,\n        type: \"button\",\n        tabIndex: -1,\n        \"aria-controls\": dom.getInputId(state.context),\n        onPointerDown(event) {\n          if (isDecrementDisabled || !isLeftClick(event)) return;\n          send({ type: \"TRIGGER.PRESS_DOWN\", hint: \"decrement\", pointerType: event.pointerType });\n          if (event.pointerType === \"mouse\") {\n            event.preventDefault();\n          }\n          if (event.pointerType === \"touch\") {\n            event.currentTarget?.focus({ preventScroll: true });\n          }\n        },\n        onPointerUp(event) {\n          send({ type: \"TRIGGER.PRESS_UP\", hint: \"decrement\", pointerType: event.pointerType });\n        },\n        onPointerLeave() {\n          if (isDecrementDisabled) return;\n          send({ type: \"TRIGGER.PRESS_UP\", hint: \"decrement\" });\n        }\n      });\n    },\n    getIncrementTriggerProps() {\n      return normalize.button({\n        ...parts.incrementTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getIncrementTriggerId(state.context),\n        disabled: isIncrementDisabled,\n        \"data-disabled\": dataAttr(isIncrementDisabled),\n        \"aria-label\": translations.incrementLabel,\n        type: \"button\",\n        tabIndex: -1,\n        \"aria-controls\": dom.getInputId(state.context),\n        onPointerDown(event) {\n          if (isIncrementDisabled || !isLeftClick(event)) return;\n          send({ type: \"TRIGGER.PRESS_DOWN\", hint: \"increment\", pointerType: event.pointerType });\n          if (event.pointerType === \"mouse\") {\n            event.preventDefault();\n          }\n          if (event.pointerType === \"touch\") {\n            event.currentTarget?.focus({ preventScroll: true });\n          }\n        },\n        onPointerUp(event) {\n          send({ type: \"TRIGGER.PRESS_UP\", hint: \"increment\", pointerType: event.pointerType });\n        },\n        onPointerLeave(event) {\n          send({ type: \"TRIGGER.PRESS_UP\", hint: \"increment\", pointerType: event.pointerType });\n        }\n      });\n    },\n    getScrubberProps() {\n      return normalize.element({\n        ...parts.scrubber.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        id: dom.getScrubberId(state.context),\n        role: \"presentation\",\n        onMouseDown(event) {\n          if (disabled) return;\n          const point = getEventPoint(event);\n          point.x = point.x - roundToDevicePixel(7.5);\n          point.y = point.y - roundToDevicePixel(7.5);\n          send({ type: \"SCRUBBER.PRESS_DOWN\", point });\n          event.preventDefault();\n        },\n        style: {\n          cursor: disabled ? void 0 : \"ew-resize\"\n        }\n      });\n    }\n  };\n}\n\n// src/cursor.ts\nfunction recordCursor(inputEl) {\n  if (inputEl.ownerDocument.activeElement !== inputEl) return;\n  try {\n    const { selectionStart: start, selectionEnd: end, value } = inputEl;\n    const beforeTxt = value.substring(0, start);\n    const afterTxt = value.substring(end);\n    return {\n      start,\n      end,\n      value,\n      beforeTxt,\n      afterTxt\n    };\n  } catch {\n  }\n}\nfunction restoreCursor(inputEl, selection) {\n  if (inputEl.ownerDocument.activeElement !== inputEl) return;\n  if (!selection) {\n    inputEl.setSelectionRange(inputEl.value.length, inputEl.value.length);\n    return;\n  }\n  try {\n    const { value } = inputEl;\n    const { beforeTxt = \"\", afterTxt = \"\", start } = selection;\n    let startPos = value.length;\n    if (value.endsWith(afterTxt)) {\n      startPos = value.length - afterTxt.length;\n    } else if (value.startsWith(beforeTxt)) {\n      startPos = beforeTxt.length;\n    } else if (start != null) {\n      const beforeLastChar = beforeTxt[start - 1];\n      const newIndex = value.indexOf(beforeLastChar, start - 1);\n      if (newIndex !== -1) {\n        startPos = newIndex + 1;\n      }\n    }\n    inputEl.setSelectionRange(startPos, startPos);\n  } catch {\n  }\n}\nvar createFormatter = (locale, options = {}) => {\n  return ref(new Intl.NumberFormat(locale, options));\n};\nvar createParser = (locale, options = {}) => {\n  return ref(new NumberParser(locale, options));\n};\nvar parseValue = (ctx, value) => {\n  if (!ctx.formatOptions) return parseFloat(value);\n  return ctx.parser.parse(String(value));\n};\nvar formatValue = (ctx, value) => {\n  if (Number.isNaN(value)) return \"\";\n  if (!ctx.formatOptions) return value.toString();\n  return ctx.formatter.format(value);\n};\n\n// src/number-input.machine.ts\nvar { not, and } = guards;\nfunction machine(userContext) {\n  const ctx = compact(userContext);\n  return createMachine(\n    {\n      id: \"number-input\",\n      initial: \"idle\",\n      context: {\n        dir: \"ltr\",\n        locale: \"en-US\",\n        focusInputOnChange: true,\n        clampValueOnBlur: true,\n        allowOverflow: false,\n        inputMode: \"decimal\",\n        pattern: \"[0-9]*(.[0-9]+)?\",\n        value: \"\",\n        step: 1,\n        min: Number.MIN_SAFE_INTEGER,\n        max: Number.MAX_SAFE_INTEGER,\n        invalid: false,\n        spinOnPress: true,\n        disabled: false,\n        readOnly: false,\n        ...ctx,\n        hint: null,\n        scrubberCursorPoint: null,\n        fieldsetDisabled: false,\n        formatter: createFormatter(ctx.locale || \"en-US\", ctx.formatOptions),\n        parser: createParser(ctx.locale || \"en-US\", ctx.formatOptions),\n        translations: {\n          incrementLabel: \"increment value\",\n          decrementLabel: \"decrease value\",\n          ...ctx.translations\n        }\n      },\n      computed: {\n        isRtl: (ctx2) => ctx2.dir === \"rtl\",\n        valueAsNumber: (ctx2) => parseValue(ctx2, ctx2.value),\n        formattedValue: (ctx2) => formatValue(ctx2, ctx2.valueAsNumber),\n        isAtMin: (ctx2) => isAtMin(ctx2.valueAsNumber, ctx2),\n        isAtMax: (ctx2) => isAtMax(ctx2.valueAsNumber, ctx2),\n        isOutOfRange: (ctx2) => !isWithinRange(ctx2.valueAsNumber, ctx2),\n        isValueEmpty: (ctx2) => ctx2.value === \"\",\n        isDisabled: (ctx2) => !!ctx2.disabled || ctx2.fieldsetDisabled,\n        canIncrement: (ctx2) => ctx2.allowOverflow || !ctx2.isAtMax,\n        canDecrement: (ctx2) => ctx2.allowOverflow || !ctx2.isAtMin,\n        valueText: (ctx2) => ctx2.translations.valueText?.(ctx2.value)\n      },\n      watch: {\n        formatOptions: [\"setFormatterAndParser\", \"syncInputElement\"],\n        locale: [\"setFormatterAndParser\", \"syncInputElement\"],\n        value: [\"syncInputElement\"],\n        isOutOfRange: [\"invokeOnInvalid\"],\n        scrubberCursorPoint: [\"setVirtualCursorPosition\"]\n      },\n      activities: [\"trackFormControl\"],\n      on: {\n        \"VALUE.SET\": {\n          actions: [\"setRawValue\", \"setHintToSet\"]\n        },\n        \"VALUE.CLEAR\": {\n          actions: [\"clearValue\"]\n        },\n        \"VALUE.INCREMENT\": {\n          actions: [\"increment\"]\n        },\n        \"VALUE.DECREMENT\": {\n          actions: [\"decrement\"]\n        }\n      },\n      states: {\n        idle: {\n          on: {\n            \"TRIGGER.PRESS_DOWN\": [\n              { guard: \"isTouchPointer\", target: \"before:spin\", actions: [\"setHint\"] },\n              {\n                target: \"before:spin\",\n                actions: [\"focusInput\", \"invokeOnFocus\", \"setHint\"]\n              }\n            ],\n            \"SCRUBBER.PRESS_DOWN\": {\n              target: \"scrubbing\",\n              actions: [\"focusInput\", \"invokeOnFocus\", \"setHint\", \"setCursorPoint\"]\n            },\n            \"INPUT.FOCUS\": {\n              target: \"focused\",\n              actions: [\"focusInput\", \"invokeOnFocus\"]\n            }\n          }\n        },\n        focused: {\n          tags: \"focus\",\n          activities: \"attachWheelListener\",\n          on: {\n            \"TRIGGER.PRESS_DOWN\": [\n              { guard: \"isTouchPointer\", target: \"before:spin\", actions: [\"setHint\"] },\n              { target: \"before:spin\", actions: [\"focusInput\", \"setHint\"] }\n            ],\n            \"SCRUBBER.PRESS_DOWN\": {\n              target: \"scrubbing\",\n              actions: [\"focusInput\", \"setHint\", \"setCursorPoint\"]\n            },\n            \"INPUT.ARROW_UP\": {\n              actions: \"increment\"\n            },\n            \"INPUT.ARROW_DOWN\": {\n              actions: \"decrement\"\n            },\n            \"INPUT.HOME\": {\n              actions: \"decrementToMin\"\n            },\n            \"INPUT.END\": {\n              actions: \"incrementToMax\"\n            },\n            \"INPUT.CHANGE\": {\n              actions: [\"setValue\", \"setHint\"]\n            },\n            \"INPUT.BLUR\": [\n              {\n                guard: and(\"clampValueOnBlur\", not(\"isInRange\")),\n                target: \"idle\",\n                actions: [\"setClampedValue\", \"clearHint\", \"invokeOnBlur\"]\n              },\n              {\n                target: \"idle\",\n                actions: [\"setFormattedValue\", \"clearHint\", \"invokeOnBlur\"]\n              }\n            ],\n            \"INPUT.ENTER\": {\n              actions: [\"setFormattedValue\", \"clearHint\", \"invokeOnBlur\"]\n            }\n          }\n        },\n        \"before:spin\": {\n          tags: \"focus\",\n          activities: \"trackButtonDisabled\",\n          entry: choose([\n            { guard: \"isIncrementHint\", actions: \"increment\" },\n            { guard: \"isDecrementHint\", actions: \"decrement\" }\n          ]),\n          after: {\n            CHANGE_DELAY: {\n              target: \"spinning\",\n              guard: and(\"isInRange\", \"spinOnPress\")\n            }\n          },\n          on: {\n            \"TRIGGER.PRESS_UP\": [\n              { guard: \"isTouchPointer\", target: \"focused\", actions: \"clearHint\" },\n              { target: \"focused\", actions: [\"focusInput\", \"clearHint\"] }\n            ]\n          }\n        },\n        spinning: {\n          tags: \"focus\",\n          activities: \"trackButtonDisabled\",\n          every: [\n            {\n              delay: \"CHANGE_INTERVAL\",\n              guard: and(not(\"isAtMin\"), \"isIncrementHint\"),\n              actions: \"increment\"\n            },\n            {\n              delay: \"CHANGE_INTERVAL\",\n              guard: and(not(\"isAtMax\"), \"isDecrementHint\"),\n              actions: \"decrement\"\n            }\n          ],\n          on: {\n            \"TRIGGER.PRESS_UP\": {\n              target: \"focused\",\n              actions: [\"focusInput\", \"clearHint\"]\n            }\n          }\n        },\n        scrubbing: {\n          tags: \"focus\",\n          activities: [\"activatePointerLock\", \"trackMousemove\", \"setupVirtualCursor\", \"preventTextSelection\"],\n          on: {\n            \"SCRUBBER.POINTER_UP\": {\n              target: \"focused\",\n              actions: [\"focusInput\", \"clearCursorPoint\"]\n            },\n            \"SCRUBBER.POINTER_MOVE\": [\n              {\n                guard: \"isIncrementHint\",\n                actions: [\"increment\", \"setCursorPoint\"]\n              },\n              {\n                guard: \"isDecrementHint\",\n                actions: [\"decrement\", \"setCursorPoint\"]\n              }\n            ]\n          }\n        }\n      }\n    },\n    {\n      delays: {\n        CHANGE_INTERVAL: 50,\n        CHANGE_DELAY: 300\n      },\n      guards: {\n        clampValueOnBlur: (ctx2) => ctx2.clampValueOnBlur,\n        isAtMin: (ctx2) => ctx2.isAtMin,\n        spinOnPress: (ctx2) => !!ctx2.spinOnPress,\n        isAtMax: (ctx2) => ctx2.isAtMax,\n        isInRange: (ctx2) => !ctx2.isOutOfRange,\n        isDecrementHint: (ctx2, evt) => (evt.hint ?? ctx2.hint) === \"decrement\",\n        isIncrementHint: (ctx2, evt) => (evt.hint ?? ctx2.hint) === \"increment\",\n        isTouchPointer: (_ctx, evt) => evt.pointerType === \"touch\"\n      },\n      activities: {\n        trackFormControl(ctx2, _evt, { initialContext }) {\n          const inputEl = dom.getInputEl(ctx2);\n          return trackFormControl(inputEl, {\n            onFieldsetDisabledChange(disabled) {\n              ctx2.fieldsetDisabled = disabled;\n            },\n            onFormReset() {\n              set.value(ctx2, initialContext.value);\n            }\n          });\n        },\n        setupVirtualCursor(ctx2) {\n          return dom.setupVirtualCursor(ctx2);\n        },\n        preventTextSelection(ctx2) {\n          return dom.preventTextSelection(ctx2);\n        },\n        trackButtonDisabled(ctx2, _evt, { send }) {\n          const btn = dom.getPressedTriggerEl(ctx2, ctx2.hint);\n          return observeAttributes(btn, {\n            attributes: [\"disabled\"],\n            callback() {\n              send({ type: \"TRIGGER.PRESS_UP\", src: \"attr\" });\n            }\n          });\n        },\n        attachWheelListener(ctx2, _evt, { send }) {\n          const inputEl = dom.getInputEl(ctx2);\n          if (!inputEl || !dom.isActiveElement(ctx2, inputEl) || !ctx2.allowMouseWheel) return;\n          function onWheel(event) {\n            event.preventDefault();\n            const dir = Math.sign(event.deltaY) * -1;\n            if (dir === 1) {\n              send(\"VALUE.INCREMENT\");\n            } else if (dir === -1) {\n              send(\"VALUE.DECREMENT\");\n            }\n          }\n          return addDomEvent(inputEl, \"wheel\", onWheel, { passive: false });\n        },\n        activatePointerLock(ctx2) {\n          if (isSafari()) return;\n          return requestPointerLock(dom.getDoc(ctx2));\n        },\n        trackMousemove(ctx2, _evt, { send }) {\n          const doc = dom.getDoc(ctx2);\n          function onMousemove(event) {\n            if (!ctx2.scrubberCursorPoint) return;\n            const value = dom.getMousementValue(ctx2, event);\n            if (!value.hint) return;\n            send({\n              type: \"SCRUBBER.POINTER_MOVE\",\n              hint: value.hint,\n              point: value.point\n            });\n          }\n          function onMouseup() {\n            send(\"SCRUBBER.POINTER_UP\");\n          }\n          return callAll(\n            addDomEvent(doc, \"mousemove\", onMousemove, false),\n            addDomEvent(doc, \"mouseup\", onMouseup, false)\n          );\n        }\n      },\n      actions: {\n        focusInput(ctx2) {\n          if (!ctx2.focusInputOnChange) return;\n          const inputEl = dom.getInputEl(ctx2);\n          if (dom.isActiveElement(ctx2, inputEl)) return;\n          raf(() => inputEl?.focus({ preventScroll: true }));\n        },\n        increment(ctx2, evt) {\n          const nextValue = increment(ctx2.valueAsNumber, evt.step ?? ctx2.step);\n          const value = formatValue(ctx2, clamp(nextValue, ctx2));\n          set.value(ctx2, value);\n        },\n        decrement(ctx2, evt) {\n          const nextValue = decrement(ctx2.valueAsNumber, evt.step ?? ctx2.step);\n          const value = formatValue(ctx2, clamp(nextValue, ctx2));\n          set.value(ctx2, value);\n        },\n        setClampedValue(ctx2) {\n          const nextValue = clamp(ctx2.valueAsNumber, ctx2);\n          set.value(ctx2, formatValue(ctx2, nextValue));\n        },\n        setRawValue(ctx2, evt) {\n          const parsedValue = parseValue(ctx2, evt.value);\n          const value = formatValue(ctx2, clamp(parsedValue, ctx2));\n          set.value(ctx2, value);\n        },\n        setValue(ctx2, evt) {\n          const value = evt.target?.value ?? evt.value;\n          set.value(ctx2, value);\n        },\n        clearValue(ctx2) {\n          set.value(ctx2, \"\");\n        },\n        incrementToMax(ctx2) {\n          const value = formatValue(ctx2, ctx2.max);\n          set.value(ctx2, value);\n        },\n        decrementToMin(ctx2) {\n          const value = formatValue(ctx2, ctx2.min);\n          set.value(ctx2, value);\n        },\n        setHint(ctx2, evt) {\n          ctx2.hint = evt.hint;\n        },\n        clearHint(ctx2) {\n          ctx2.hint = null;\n        },\n        setHintToSet(ctx2) {\n          ctx2.hint = \"set\";\n        },\n        invokeOnFocus(ctx2) {\n          ctx2.onFocusChange?.({\n            focused: true,\n            value: ctx2.formattedValue,\n            valueAsNumber: ctx2.valueAsNumber\n          });\n        },\n        invokeOnBlur(ctx2) {\n          ctx2.onFocusChange?.({\n            focused: false,\n            value: ctx2.formattedValue,\n            valueAsNumber: ctx2.valueAsNumber\n          });\n        },\n        invokeOnInvalid(ctx2) {\n          if (!ctx2.isOutOfRange) return;\n          const reason = ctx2.valueAsNumber > ctx2.max ? \"rangeOverflow\" : \"rangeUnderflow\";\n          ctx2.onValueInvalid?.({\n            reason,\n            value: ctx2.formattedValue,\n            valueAsNumber: ctx2.valueAsNumber\n          });\n        },\n        syncInputElement(ctx2, evt) {\n          const value = evt.type.endsWith(\"CHANGE\") ? ctx2.value : ctx2.formattedValue;\n          sync.input(ctx2, value);\n        },\n        setFormattedValue(ctx2) {\n          set.value(ctx2, ctx2.formattedValue);\n        },\n        setCursorPoint(ctx2, evt) {\n          ctx2.scrubberCursorPoint = evt.point;\n        },\n        clearCursorPoint(ctx2) {\n          ctx2.scrubberCursorPoint = null;\n        },\n        setVirtualCursorPosition(ctx2) {\n          const cursorEl = dom.getCursorEl(ctx2);\n          if (!cursorEl || !ctx2.scrubberCursorPoint) return;\n          const { x, y } = ctx2.scrubberCursorPoint;\n          cursorEl.style.transform = `translate3d(${x}px, ${y}px, 0px)`;\n        },\n        setFormatterAndParser(ctx2) {\n          if (!ctx2.locale) return;\n          ctx2.formatter = createFormatter(ctx2.locale, ctx2.formatOptions);\n          ctx2.parser = createParser(ctx2.locale, ctx2.formatOptions);\n        }\n      },\n      compareFns: {\n        formatOptions: (a, b) => isEqual(a, b),\n        scrubberCursorPoint: (a, b) => isEqual(a, b)\n      }\n    }\n  );\n}\nvar sync = {\n  input(ctx, value) {\n    const inputEl = dom.getInputEl(ctx);\n    if (!inputEl) return;\n    const sel = recordCursor(inputEl);\n    raf(() => {\n      dom.setValue(inputEl, value);\n      restoreCursor(inputEl, sel);\n    });\n  }\n};\nvar invoke = {\n  onChange: (ctx) => {\n    ctx.onValueChange?.({\n      value: ctx.value,\n      valueAsNumber: ctx.valueAsNumber\n    });\n  }\n};\nvar set = {\n  value: (ctx, value) => {\n    if (isEqual(ctx.value, value)) return;\n    ctx.value = value;\n    invoke.onChange(ctx);\n  }\n};\n\nexport { anatomy, connect, machine };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}