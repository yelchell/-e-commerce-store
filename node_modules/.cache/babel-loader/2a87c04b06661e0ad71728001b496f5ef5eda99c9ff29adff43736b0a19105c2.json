{"ast":null,"code":"import { isIos, nextTick, raf } from '@zag-js/dom-query';\n\n// src/index.ts\nvar state = \"default\";\nvar userSelect = \"\";\nvar elementMap = /* @__PURE__ */new WeakMap();\nfunction disableTextSelectionImpl(options = {}) {\n  const {\n    target,\n    doc\n  } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state === \"default\") {\n      userSelect = rootEl.style.webkitUserSelect;\n      rootEl.style.webkitUserSelect = \"none\";\n    }\n    state = \"disabled\";\n  } else if (target) {\n    elementMap.set(target, target.style.userSelect);\n    target.style.userSelect = \"none\";\n  }\n  return () => restoreTextSelection({\n    target,\n    doc: docNode\n  });\n}\nfunction restoreTextSelection(options = {}) {\n  const {\n    target,\n    doc\n  } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state !== \"disabled\") return;\n    state = \"restoring\";\n    setTimeout(() => {\n      nextTick(() => {\n        if (state === \"restoring\") {\n          if (rootEl.style.webkitUserSelect === \"none\") {\n            rootEl.style.webkitUserSelect = userSelect || \"\";\n          }\n          userSelect = \"\";\n          state = \"default\";\n        }\n      });\n    }, 300);\n  } else {\n    if (target && elementMap.has(target)) {\n      const prevUserSelect = elementMap.get(target);\n      if (target.style.userSelect === \"none\") {\n        target.style.userSelect = prevUserSelect ?? \"\";\n      }\n      if (target.getAttribute(\"style\") === \"\") {\n        target.removeAttribute(\"style\");\n      }\n      elementMap.delete(target);\n    }\n  }\n}\nfunction disableTextSelection(options = {}) {\n  const {\n    defer,\n    target,\n    ...restOptions\n  } = options;\n  const func = defer ? raf : v => v();\n  const cleanups = [];\n  cleanups.push(func(() => {\n    const node = typeof target === \"function\" ? target() : target;\n    cleanups.push(disableTextSelectionImpl({\n      ...restOptions,\n      target: node\n    }));\n  }));\n  return () => {\n    cleanups.forEach(fn => fn?.());\n  };\n}\nexport { disableTextSelection, restoreTextSelection };","map":{"version":3,"names":["isIos","nextTick","raf","state","userSelect","elementMap","WeakMap","disableTextSelectionImpl","options","target","doc","docNode","document","rootEl","documentElement","style","webkitUserSelect","set","restoreTextSelection","setTimeout","has","prevUserSelect","get","getAttribute","removeAttribute","delete","disableTextSelection","defer","restOptions","func","v","cleanups","push","node","forEach","fn"],"sources":["D:/assignment/e_commerce/ecommerce-product-page/node_modules/@zag-js/text-selection/dist/index.mjs"],"sourcesContent":["import { isIos, nextTick, raf } from '@zag-js/dom-query';\n\n// src/index.ts\nvar state = \"default\";\nvar userSelect = \"\";\nvar elementMap = /* @__PURE__ */ new WeakMap();\nfunction disableTextSelectionImpl(options = {}) {\n  const { target, doc } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state === \"default\") {\n      userSelect = rootEl.style.webkitUserSelect;\n      rootEl.style.webkitUserSelect = \"none\";\n    }\n    state = \"disabled\";\n  } else if (target) {\n    elementMap.set(target, target.style.userSelect);\n    target.style.userSelect = \"none\";\n  }\n  return () => restoreTextSelection({ target, doc: docNode });\n}\nfunction restoreTextSelection(options = {}) {\n  const { target, doc } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state !== \"disabled\") return;\n    state = \"restoring\";\n    setTimeout(() => {\n      nextTick(() => {\n        if (state === \"restoring\") {\n          if (rootEl.style.webkitUserSelect === \"none\") {\n            rootEl.style.webkitUserSelect = userSelect || \"\";\n          }\n          userSelect = \"\";\n          state = \"default\";\n        }\n      });\n    }, 300);\n  } else {\n    if (target && elementMap.has(target)) {\n      const prevUserSelect = elementMap.get(target);\n      if (target.style.userSelect === \"none\") {\n        target.style.userSelect = prevUserSelect ?? \"\";\n      }\n      if (target.getAttribute(\"style\") === \"\") {\n        target.removeAttribute(\"style\");\n      }\n      elementMap.delete(target);\n    }\n  }\n}\nfunction disableTextSelection(options = {}) {\n  const { defer, target, ...restOptions } = options;\n  const func = defer ? raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const node = typeof target === \"function\" ? target() : target;\n      cleanups.push(disableTextSelectionImpl({ ...restOptions, target: node }));\n    })\n  );\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n  };\n}\n\nexport { disableTextSelection, restoreTextSelection };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}